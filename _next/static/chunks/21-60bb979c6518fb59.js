"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{10021:function(e,t,n){n.d(t,{Z:function(){return ZoomI}});var a=n(52322),r=n(37108),i=n.n(r),s=n(2784),l=n(91014),c=n(98738),o=n(9527),u=n(18159),b=n(65201),d=n(42613);let f=[...Array(1e3)],x=(0,d.Z)({range:[0,1],domain:[0,1e3]}),v=(0,d.Z)({domain:[0,600],range:[.5,8]}),h={scaleX:1.27,scaleY:1.27,translateX:-211.62,translateY:162.59,skewX:0,skewY:0};function ZoomI(e){let{width:t,height:n}=e,[r,d]=(0,s.useState)(!0),m=(0,b.Z)({radius:10,width:t,height:n}),p=f.map((e,t)=>m(t));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{width:t,height:n,scaleXMin:.5,scaleXMax:4,scaleYMin:.5,scaleYMax:4,initialTransformMatrix:h,children:e=>(0,a.jsxs)("div",{className:"jsx-32b4be5d0b77c3ab relative",children:[(0,a.jsxs)("svg",{width:t,height:n,style:{cursor:e.isDragging?"grabbing":"grab",touchAction:"none"},ref:e.containerRef,className:"jsx-32b4be5d0b77c3ab",children:[(0,a.jsx)(u.Z,{id:"zoom-clip",width:t,height:n}),(0,a.jsx)("rect",{width:t,height:n,rx:14,fill:"#0a0a0a",className:"jsx-32b4be5d0b77c3ab"}),(0,a.jsx)("g",{transform:e.toString(),className:"jsx-32b4be5d0b77c3ab",children:p.map((e,t)=>{var n;let{x:r,y:i}=e;return(0,a.jsx)(s.Fragment,{children:(0,a.jsx)("circle",{cx:r,cy:i,r:t>500?v(1e3-t):v(t),fill:(0,l.ZP)(null!==(n=x(t))&&void 0!==n?n:0),className:"jsx-32b4be5d0b77c3ab"})},"dot-".concat(t))})}),(0,a.jsx)("rect",{width:t,height:n,rx:14,fill:"transparent",onTouchStart:e.dragStart,onTouchMove:e.dragMove,onTouchEnd:e.dragEnd,onMouseDown:e.dragStart,onMouseMove:e.dragMove,onMouseUp:e.dragEnd,onMouseLeave:()=>{e.isDragging&&e.dragEnd()},onDoubleClick:t=>{let n=(0,o.Z)(t)||{x:0,y:0};e.scale({scaleX:1.1,scaleY:1.1,point:n})},className:"jsx-32b4be5d0b77c3ab"}),r&&(0,a.jsxs)("g",{clipPath:"url(#zoom-clip)",transform:"\n                    scale(0.25)\n                    translate(".concat(4*t-t-60,", ").concat(4*n-n-60,")\n                  "),className:"jsx-32b4be5d0b77c3ab",children:[(0,a.jsx)("rect",{width:t,height:n,fill:"#1a1a1a",className:"jsx-32b4be5d0b77c3ab"}),p.map((e,t)=>{var n;let{x:r,y:i}=e;return(0,a.jsx)(s.Fragment,{children:(0,a.jsx)("circle",{cx:r,cy:i,r:t>500?v(1e3-t):v(t),fill:(0,l.ZP)(null!==(n=x(t))&&void 0!==n?n:0),className:"jsx-32b4be5d0b77c3ab"})},"dot-sm-".concat(t))}),(0,a.jsx)("rect",{width:t,height:n,fill:"white",fillOpacity:.2,stroke:"white",strokeWidth:4,transform:e.toStringInvert(),className:"jsx-32b4be5d0b77c3ab"})]})]}),(0,a.jsxs)("div",{className:"jsx-32b4be5d0b77c3ab controls",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.scale({scaleX:1.2,scaleY:1.2}),className:"jsx-32b4be5d0b77c3ab btn btn-zoom",children:"+"}),(0,a.jsx)("button",{type:"button",onClick:()=>e.scale({scaleX:.8,scaleY:.8}),className:"jsx-32b4be5d0b77c3ab btn btn-zoom btn-bottom",children:"-"}),(0,a.jsx)("button",{type:"button",onClick:e.center,className:"jsx-32b4be5d0b77c3ab btn btn-lg",children:"Center"}),(0,a.jsx)("button",{type:"button",onClick:e.reset,className:"jsx-32b4be5d0b77c3ab btn btn-lg",children:"Reset"}),(0,a.jsx)("button",{type:"button",onClick:e.clear,className:"jsx-32b4be5d0b77c3ab btn btn-lg",children:"Clear"})]}),(0,a.jsx)("div",{className:"jsx-32b4be5d0b77c3ab mini-map",children:(0,a.jsxs)("button",{type:"button",onClick:()=>d(!r),className:"jsx-32b4be5d0b77c3ab btn btn-lg",children:[r?"Hide":"Show"," Mini Map"]})})]})}),(0,a.jsxs)("div",{className:"jsx-32b4be5d0b77c3ab description",children:["Based on Mike Bostock's"," ",(0,a.jsx)("a",{href:"https://bl.ocks.org/mbostock/4e3925cdc804db257a86fdef3a032a45",className:"jsx-32b4be5d0b77c3ab",children:"Pan & Zoom III"})]}),(0,a.jsx)(i(),{id:"32b4be5d0b77c3ab",children:".btn.jsx-32b4be5d0b77c3ab{margin:0;text-align:center;border:none;background:#2f2f2f;color:#888;padding:0 4px;border-top:1px solid#0a0a0a}.btn-lg.jsx-32b4be5d0b77c3ab{font-size:12px;line-height:1;padding:4px}.btn-zoom.jsx-32b4be5d0b77c3ab{width:26px;font-size:22px}.btn-bottom.jsx-32b4be5d0b77c3ab{margin-bottom:1rem}.description.jsx-32b4be5d0b77c3ab{font-size:12px;margin-right:.25rem}.controls.jsx-32b4be5d0b77c3ab{position:absolute;top:15px;right:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end}.mini-map.jsx-32b4be5d0b77c3ab{position:absolute;bottom:25px;right:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end}.relative.jsx-32b4be5d0b77c3ab{position:relative}"})]})}},58741:function(e,t,n){n.d(t,{Z:function(){return ClipPath}});var a=n(13980),r=n.n(a),i=n(2784),s=["id","children"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function ClipPath(e){var t=e.id,n=e.children,a=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,s);return i.createElement("defs",null,i.createElement("clipPath",_extends({id:t},a),n))}ClipPath.propTypes={id:r().string.isRequired,children:r().node}},18159:function(e,t,n){n.d(t,{Z:function(){return RectClipPath}});var a=n(13980),r=n.n(a),i=n(2784),s=n(58741),l=["id","x","y","width","height"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function RectClipPath(e){var t=e.id,n=e.x,a=e.y,r=e.width,c=e.height,o=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(e,l);return i.createElement(s.Z,{id:t},i.createElement("rect",_extends({x:void 0===n?0:n,y:void 0===a?0:a,width:void 0===r?1:r,height:void 0===c?1:c},o)))}RectClipPath.propTypes={id:r().string.isRequired,x:r().oneOfType([r().string,r().number]),y:r().oneOfType([r().string,r().number]),width:r().oneOfType([r().string,r().number]),height:r().oneOfType([r().string,r().number])}},9527:function(e,t,n){n.d(t,{Z:function(){return localPoint}});var a=n(422),r=n(47513);function localPoint(e,t){if((0,r.kK)(e)&&t)return(0,a.Z)(e,t);if((0,r.cO)(e)){var n=e.target;if(n)return(0,a.Z)(n,e)}return null}},422:function(e,t,n){n.d(t,{Z:function(){return localPoint}});var a=n(79196),r=n(47513);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var i={x:0,y:0};function localPoint(e,t){if(!e||!t)return null;var n=function(e){if(!e)return _extends({},i);if((0,r.z6)(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:_extends({},i);if((0,r.N5)(e))return{x:e.clientX,y:e.clientY};var t=null==e?void 0:e.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:_extends({},i)}(t),s=(0,r.vZ)(e)?e.ownerSVGElement:e,l=(0,r.DY)(s)?s.getScreenCTM():null;if((0,r.r4)(s)&&l){var c=s.createSVGPoint();return c.x=n.x,c.y=n.y,c=c.matrixTransform(l.inverse()),new a.Z({x:c.x,y:c.y})}var o=e.getBoundingClientRect();return new a.Z({x:n.x-o.left-e.clientLeft,y:n.y-o.top-e.clientTop})}},47513:function(e,t,n){function isElement(e){return!!e&&e instanceof Element}function isSVGElement(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function isSVGSVGElement(e){return!!e&&"createSVGPoint"in e}function isSVGGraphicsElement(e){return!!e&&"getScreenCTM"in e}function isTouchEvent(e){return!!e&&"changedTouches"in e}function isMouseEvent(e){return!!e&&"clientX"in e}function isEvent(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}n.d(t,{DY:function(){return isSVGGraphicsElement},N5:function(){return isMouseEvent},cO:function(){return isEvent},kK:function(){return isElement},r4:function(){return isSVGSVGElement},vZ:function(){return isSVGElement},z6:function(){return isTouchEvent}})},65201:function(e,t){t.Z=function(e){var t=e.radius,n=e.width,a=e.height,r=Math.PI*(3-Math.sqrt(5));return function(e){var i=t*Math.sqrt(e),s=r*e;return{x:n/2+i*Math.cos(s),y:a/2+i*Math.sin(s)}}}},98738:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(13980),r=n.n(a),i=n(2784),s=n(9527),l=n(29411);function createMatrix(e){var t=e.scaleX,n=e.scaleY,a=e.translateX,r=e.translateY,i=e.skewX,s=e.skewY;return{scaleX:void 0===t?1:t,scaleY:void 0===n?1:n,translateX:void 0===a?0:a,translateY:void 0===r?0:r,skewX:void 0===i?0:i,skewY:void 0===s?0:s}}function inverseMatrix(e){var t=e.scaleX,n=e.scaleY,a=e.translateX,r=e.translateY,i=e.skewX,s=e.skewY,l=t*n-s*i;return{scaleX:n/l,scaleY:t/l,translateX:-((n*a-i*r)/l),translateY:(s*a-t*r)/l,skewX:-(i/l),skewY:-(s/l)}}function applyMatrixToPoint(e,t){var n=t.x,a=t.y;return{x:e.scaleX*n+e.skewX*a+e.translateX,y:e.skewY*n+e.scaleY*a+e.translateY}}function applyInverseMatrixToPoint(e,t){var n=t.x,a=t.y;return applyMatrixToPoint(inverseMatrix(e),{x:n,y:a})}function translateMatrix(e,t){return createMatrix({translateX:e,translateY:t})}function multiplyMatrices(e,t){return{scaleX:e.scaleX*t.scaleX+e.skewX*t.skewY,scaleY:e.skewY*t.skewX+e.scaleY*t.scaleY,translateX:e.scaleX*t.translateX+e.skewX*t.translateY+e.translateX,translateY:e.skewY*t.translateX+e.scaleY*t.translateY+e.translateY,skewX:e.scaleX*t.skewX+e.skewX*t.scaleY,skewY:e.skewY*t.scaleX+e.scaleY*t.skewY}}function composeMatrices(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];switch(t.length){case 0:throw Error("composeMatrices() requires arguments: was called with no args");case 1:return t[0];case 2:return multiplyMatrices(t[0],t[1]);default:var a=t[0],r=t[1],i=t.slice(2),s=multiplyMatrices(a,r);return composeMatrices.apply(void 0,[s].concat(i))}}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}var c={scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0},defaultWheelDelta=function(e){return-e.deltaY>0?{scaleX:1.1,scaleY:1.1}:{scaleX:.9,scaleY:.9}},defaultPinchDelta=function(e){var t=e.offset[0],n=e.lastOffset[0];return{scaleX:t-n<0?.9:1.1,scaleY:t-n<0?.9:1.1}};function Zoom(e){var t=e.scaleXMin,n=void 0===t?0:t,a=e.scaleXMax,r=void 0===a?1/0:a,o=e.scaleYMin,u=void 0===o?0:o,b=e.scaleYMax,d=void 0===b?1/0:b,f=e.initialTransformMatrix,x=void 0===f?c:f,v=e.wheelDelta,h=void 0===v?defaultWheelDelta:v,m=e.pinchDelta,p=void 0===m?defaultPinchDelta:m,g=e.width,y=e.height,k=e.constrain,w=e.children,Y=(0,i.useRef)(null),X=(0,i.useRef)(x),M=(0,i.useState)(x),j=M[0],C=M[1],E=(0,i.useState)(!1),P=E[0],T=E[1],Z=(0,i.useState)(void 0),S=Z[0],N=Z[1],O=(0,i.useState)(void 0),z=O[0],D=O[1],_=(0,i.useCallback)(function(e,t){if(k)return k(e,t);var a=e.scaleX,i=e.scaleY,s=i>d||i<u;return a>r||a<n||s?t:e},[k,n,r,u,d]),R=(0,i.useCallback)(function(e){C(function(t){var n=_(e,t);return X.current=n,n})},[_]),G=(0,i.useCallback)(function(e){return applyMatrixToPoint(j,{x:e.x,y:e.y})},[j]),I=(0,i.useCallback)(function(e){return applyInverseMatrixToPoint(j,{x:e.x,y:e.y})},[j]),V=(0,i.useCallback)(function(){R(x)},[x,R]),q=(0,i.useCallback)(function(e){var t,n,a=e.scaleX,r=e.scaleY,i=e.point,s=r||a,l=i||{x:g/2,y:y/2},c=applyInverseMatrixToPoint(X.current,l);if(R(composeMatrices(X.current,translateMatrix(c.x,c.y),(void 0===(t=s)&&(t=void 0),n=t||a,createMatrix({scaleX:a,scaleY:n})),translateMatrix(-c.x,-c.y))),P){var o=X.current,u=o.translateX,b=o.translateY;D(i),N({translateX:u,translateY:b})}},[y,g,P,R]),B=(0,i.useCallback)(function(e){R(composeMatrices(j,translateMatrix(e.translateX,e.translateY)))},[R,j]),W=(0,i.useCallback)(function(e){var t=e.translateX,n=e.translateY;R(_extends({},j,{translateX:t,translateY:n}))},[R,j]),F=(0,i.useCallback)(function(e){var t=applyInverseMatrixToPoint(j,{x:e.x,y:e.y});W({translateX:t.x,translateY:t.y})},[W,j]),K=(0,i.useCallback)(function(){return inverseMatrix(j)},[j]),A=(0,i.useCallback)(function(){var e=K(),t=e.translateX,n=e.translateY,a=e.scaleX,r=e.scaleY,i=e.skewX;return"matrix("+a+", "+e.skewY+", "+i+", "+r+", "+t+", "+n+")"},[K]),L=(0,i.useCallback)(function(e){var t=j.translateX,n=j.translateY;D((0,s.Z)(e)||void 0),N({translateX:t,translateY:n}),T(!0)},[j]),H=(0,i.useCallback)(function(e,t){if(P&&z&&S){var n,a,r=(0,s.Z)(e),i=r?-(z.x-r.x):-z.x,l=r?-(z.y-r.y):-z.y,c=S.translateX+i;null!=t&&t.offsetX&&(c+=null!=(n=null==t?void 0:t.offsetX)?n:0);var o=S.translateY+l;null!=t&&t.offsetY&&(o+=null!=(a=null==t?void 0:t.offsetY)?a:0),W({translateX:c,translateY:o})}},[P,W,z,S]),U=(0,i.useCallback)(function(){D(void 0),N(void 0),T(!1)},[]),J=(0,i.useCallback)(function(e){e.preventDefault();var t=(0,s.Z)(e)||void 0,n=h(e);q({scaleX:n.scaleX,scaleY:n.scaleY,point:t})},[q,h]),Q=(0,i.useCallback)(function(e){var t=e.origin,n=t[0],a=t[1],r=e.memo;if(Y.current){var i,s=null!=(i=r)?i:Y.current.getBoundingClientRect(),l=s.top,c=s.left;r||(r={top:l,left:c});var o=p(e);q({scaleX:o.scaleX,scaleY:o.scaleY,point:{x:n-c,y:a-l}})}return r},[q,p]),$=(0,i.useCallback)(function(){var e=j.translateX,t=j.translateY,n=j.scaleX,a=j.scaleY,r=j.skewX;return"matrix("+n+", "+j.skewY+", "+r+", "+a+", "+e+", "+t+")"},[j]),ee=(0,i.useCallback)(function(){var e={x:g/2,y:y/2},t=I(e);B({translateX:t.x-e.x,translateY:t.y-e.y})},[y,g,I,B]),et=(0,i.useCallback)(function(){R({scaleX:1,scaleY:1,translateX:0,translateY:0,skewX:0,skewY:0})},[R]);return(0,l.useGesture)({onDragStart:function(e){var t=e.event;t instanceof KeyboardEvent||L(t)},onDrag:function(e){var t=e.event,n=e.pinching,a=e.cancel;n?(a(),U()):t instanceof KeyboardEvent||H(t)},onDragEnd:U,onPinch:Q,onWheel:function(e){var t=e.event,n=e.active;!e.pinching&&n&&J(t)}},{target:Y,eventOptions:{passive:!1},drag:{filterTaps:!0}}),i.createElement(i.Fragment,null,w({initialTransformMatrix:x,transformMatrix:j,isDragging:P,center:ee,clear:et,scale:q,translate:B,translateTo:F,setTranslate:W,setTransformMatrix:R,reset:V,handleWheel:J,handlePinch:Q,dragEnd:U,dragMove:H,dragStart:L,toString:$,invert:K,toStringInvert:A,applyToPoint:G,applyInverseToPoint:I,containerRef:Y}))}Zoom.propTypes={width:r().number.isRequired,height:r().number.isRequired,wheelDelta:r().func,scaleXMin:r().number,scaleXMax:r().number,scaleYMin:r().number,scaleYMax:r().number,constrain:r().func,children:r().func.isRequired};var o=Zoom}}]);