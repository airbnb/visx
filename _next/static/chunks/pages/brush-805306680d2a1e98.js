(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3232],{1868:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(32988),i=n.n(r),a=n(65578);let o={horizontal:"horizontal",vertical:"vertical",diagonal:"diagonal",diagonalRightToLeft:"diagonalRightToLeft"};var s=n(6029);function c(t){let{id:e,width:n,height:r,stroke:c,strokeWidth:l,strokeDasharray:h,strokeLinecap:u="square",shapeRendering:d="auto",orientation:x=["vertical"],background:f,className:p}=t,m=Array.isArray(x)?x:[x];return(0,s.jsxs)(a.A,{id:e,width:n,height:r,children:[!!f&&(0,s.jsx)("rect",{className:i()("visx-pattern-line-background"),width:n,height:r,fill:f}),m.map((t,n)=>(0,s.jsx)("path",{className:i()("visx-pattern-line",p),d:function(t){let{height:e,orientation:n}=t;switch(n){case o.horizontal:return"M 0,".concat(e/2," l ").concat(e,",0");case o.diagonal:return"M 0,".concat(e," l ").concat(e,",").concat(-e," M ").concat(-e/4,",").concat(e/4," l ").concat(e/2,",").concat(-e/2,"\n             M ").concat(3/4*e,",").concat(5/4*e," l ").concat(e/2,",").concat(-e/2);case o.diagonalRightToLeft:return"M 0,0 l ".concat(e,",").concat(e,"\n        M ").concat(-e/4,",").concat(3/4*e," l ").concat(e/2,",").concat(e/2,"\n        M ").concat(3/4*e,",").concat(-e/4," l ").concat(e/2,",").concat(e/2);case o.vertical:default:return"M ".concat(e/2,", 0 l 0, ").concat(e)}}({orientation:t,height:r}),stroke:c,strokeWidth:l,strokeDasharray:h,strokeLinecap:u,shapeRendering:d},"visx-".concat(e,"-line-").concat(t,"-").concat(n)))]})}},2170:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(88334);let i={x:0,y:0};function a(t,e){if(!t||!e)return null;let n=function(t){if(!t)return{...i};if(t&&"changedTouches"in t)return t.changedTouches.length>0?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:{...i};if(t&&"clientX"in t)return{x:t.clientX,y:t.clientY};let e=null==t?void 0:t.target,n=e&&"getBoundingClientRect"in e?e.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:{...i}}(e),a=t&&(t instanceof SVGElement||"ownerSVGElement"in t)?t.ownerSVGElement:t,o=a&&"getScreenCTM"in a?a.getScreenCTM():null;if(a&&"createSVGPoint"in a&&o){let t=a.createSVGPoint();return t.x=n.x,t.y=n.y,t=t.matrixTransform(o.inverse()),new r.A({x:t.x,y:t.y})}let s=t.getBoundingClientRect();return new r.A({x:n.x-s.left-t.clientLeft,y:n.y-s.top-t.clientTop})}function o(t,e){if(t&&t instanceof Element&&e)return a(t,e);if(t&&(t instanceof Event||"nativeEvent"in t&&t.nativeEvent instanceof Event)){let e=t.target;if(e)return a(e,t)}return null}},6868:(t,e,n)=>{"use strict";function r(t){var e;let n=[];return Object.keys(null!=(e=null==t?void 0:t.dependencies)?e:{}).forEach(t=>{t.startsWith("@visx/")&&n.push(t)}),n}n.d(e,{A:()=>r})},13628:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var r=n(6029),i=n(71711),a=n.n(i);n(55729);var o=n(26613),s=n(83805),c=n.n(s);function l(t){let{lines:e}=t;return(0,r.jsx)("span",{"aria-hidden":"true",className:"line-numbers-rows",children:e.map((t,n)=>(0,r.jsx)("span",{},"line-number-".concat(e.length,"-").concat(n)))})}function h(t){let{children:e}=t,n=e.match(/\n(?!$)/g),i=Array((n?n.length+1:1)+1).fill(1),s=[o.renderToString((0,r.jsx)(l,{lines:i})),c().highlight(e,c().languages.ts,"tsx")].join("");return(0,r.jsxs)("pre",{className:"jsx-863e3e1135f82530 codeblock line-numbers",children:[(0,r.jsx)("code",{dangerouslySetInnerHTML:{__html:s},className:"jsx-863e3e1135f82530"}),(0,r.jsx)(a(),{id:"863e3e1135f82530",children:".codeblock.jsx-863e3e1135f82530 code.jsx-863e3e1135f82530{display:block;padding:0 0 0 1.5rem;border-radius:0;font-weight:300;font-size:14px;line-height:1.4em;background:white;color:#495057}.codeblock.line-numbers.jsx-863e3e1135f82530{padding-left:0}@media(max-width:600px){.codeblock.jsx-863e3e1135f82530 code.jsx-863e3e1135f82530{font-size:10px;padding:0;pointer-events:none}}"})]})}n(66664),n(27388),n(83334)},18769:(t,e,n)=>{"use strict";function r(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}n.d(e,{A:()=>r})},20470:(t,e,n)=>{"use strict";function r(t){return null==t?void 0:t.toString()}n.d(e,{A:()=>r})},29139:(t,e,n)=>{"use strict";n.d(e,{A:()=>function t(){var e=(0,i.Ay)();return e.copy=function(){return(0,i.C)(e,t())},a.C.apply(e,arguments),l(e)},C:()=>l});var r=n(38815),i=n(65725),a=n(64210),o=n(80600),s=n(31760),c=n(85173);function l(t){var e=t.domain;return t.ticks=function(t){var n=e();return(0,r.Ay)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return function(t,e,n,i){var a,l,h,u=(0,r.sG)(t,e,n);switch((i=(0,o.A)(null==i?",f":i)).type){case"s":var d=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(h=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.A)(d)/3)))-(0,s.A)(Math.abs(u))))||(i.precision=h),(0,c.s)(i,d);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN((a=u,l=Math.abs(l=Math.max(Math.abs(t),Math.abs(e)))-(a=Math.abs(a)),h=Math.max(0,(0,s.A)(l)-(0,s.A)(a))+1))||(i.precision=h-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(h=Math.max(0,-(0,s.A)(Math.abs(u))))||(i.precision=h-("%"===i.type)*2)}return(0,c.GP)(i)}(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,a,o=e(),s=0,c=o.length-1,l=o[s],h=o[c],u=10;for(h<l&&(a=l,l=h,h=a,a=s,s=c,c=a);u-- >0;){if((a=(0,r.lq)(l,h,n))===i)return o[s]=l,o[c]=h,e(o);if(a>0)l=Math.floor(l/a)*a,h=Math.ceil(h/a)*a;else if(a<0)l=Math.ceil(l*a)/a,h=Math.floor(h*a)/a;else break;i=a}return t},t}},39169:(t,e,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/brush",function(){return n(73101)}])},39337:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});let r={top:"top",left:"left",right:"right",bottom:"bottom"}},42481:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(32988),i=n.n(r),a=n(49352),o=n(35094),s=n(6029);function c(t){let{x:e,x0:n,x1:r,y:c,y1:l,y0:h,yScale:u,data:d=[],defined:x=()=>!0,className:f,curve:p,innerRef:m,children:g,...b}=t,y=(0,o.Wc)({x:e,x0:n,x1:r,defined:x,curve:p});return(null==h?y.y0(u.range()[0]):(0,a.A)(y.y0,h),c&&!l&&(0,a.A)(y.y1,c),l&&!c&&(0,a.A)(y.y1,l),g)?(0,s.jsx)(s.Fragment,{children:g({path:y})}):(0,s.jsx)("path",{ref:m,className:i()("visx-area-closed",f),d:y(d)||"",...b})}},43950:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(32988),i=n.n(r),a=n(6029);function o(t){let{from:e={x:0,y:0},to:n={x:1,y:1},fill:r="transparent",className:o,innerRef:s,...c}=t,l=e.x===n.x||e.y===n.y;return(0,a.jsx)("line",{ref:s,className:i()("visx-line",o),x1:e.x,y1:e.y,x2:n.x,y2:n.y,fill:r,shapeRendering:l?"crispEdges":"auto",...c})}},45682:(t,e,n)=>{"use strict";n.d(e,{A:()=>b});var r=n(32988),i=n.n(r),a=n(32602),o=n(66952),s=n(49554),c=n(43950),l=n(88918),h=n(39337),u=n(6029);function d(t){let{hideTicks:e,horizontal:n,orientation:r,tickClassName:o,tickComponent:s,tickLabelProps:d,tickStroke:x="#222",tickTransform:f,ticks:p,strokeWidth:m,tickLineProps:g}=t;return p.map(t=>{var p;let{value:b,index:y,from:v,to:k,formattedValue:w}=t,j=null!=(p=d[y])?p:{},A=Math.max(10,"number"==typeof j.fontSize&&j.fontSize||0),M=k.y+(n&&r!==h.A.top?A:0);return(0,u.jsxs)(a.A,{className:i()("visx-axis-tick",o),transform:f,children:[!e&&(0,u.jsx)(c.A,{from:v,to:k,stroke:x,strokeWidth:m,strokeLinecap:"square",...g}),s?s({...j,x:k.x,y:M,formattedValue:w}):(0,u.jsx)(l.A,{x:k.x,y:M,...j,children:w})]},"visx-tick-".concat(b,"-").concat(y))})}let x={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function f(t){let{axisFromPoint:e,axisLineClassName:n,axisToPoint:r,hideAxisLine:a,hideTicks:o,horizontal:s,label:f="",labelClassName:p,labelOffset:m=14,labelProps:g,orientation:b=h.A.bottom,scale:y,stroke:v="#222",strokeDasharray:k,strokeWidth:w=1,tickClassName:j,tickComponent:A,tickLineProps:M,tickLabelProps:_,tickLength:S=8,tickStroke:C="#222",tickTransform:N,ticks:B,ticksComponent:T=d}=t,E={...x,...g},z={...x,..."object"==typeof _?_:null},D=B.map(t=>{let{value:e,index:n}=t;return"function"==typeof _?_(e,n,B):z}),R=Math.max(10,...D.map(t=>"number"==typeof t.fontSize?t.fontSize:0));return(0,u.jsxs)(u.Fragment,{children:[T({hideTicks:o,horizontal:s,orientation:b,scale:y,tickClassName:j,tickComponent:A,tickLabelProps:D,tickStroke:C,tickTransform:N,ticks:B,strokeWidth:w,tickLineProps:M}),!a&&(0,u.jsx)(c.A,{className:i()("visx-axis-line",n),from:e,to:r,stroke:v,strokeWidth:w,strokeDasharray:k}),f&&(0,u.jsx)(l.A,{className:i()("visx-axis-label",p),...function(t){let e,n,r,{labelOffset:i,labelProps:a,orientation:o,range:s,tickLabelFontSize:c,tickLength:l}=t,u=o===h.A.left||o===h.A.top?-1:1;if(o===h.A.top||o===h.A.bottom){let t=o===h.A.bottom&&"number"==typeof a.fontSize?a.fontSize:0;e=(Number(s[0])+Number(s[s.length-1]))/2,n=u*(l+i+c+t)}else e=u*((Number(s[0])+Number(s[s.length-1]))/2),n=-(l+i),r="rotate(".concat(90*u,")");return{x:e,y:n,transform:r}}({labelOffset:m,labelProps:E,orientation:b,range:y.range(),tickLabelFontSize:R,tickLength:S}),...E,children:f})]})}var p=n(20470),m=n(88334);function g(t,e){let{x:n,y:r}=t;return new m.A(e?{x:n,y:r}:{x:r,y:n})}function b(t){let{children:e=f,axisClassName:n,hideAxisLine:r=!1,hideTicks:c=!1,hideZero:l=!1,innerRef:d,left:x=0,numTicks:m=10,orientation:b=h.A.bottom,rangePadding:y=0,scale:v,tickFormat:k,tickLength:w=8,tickValues:j,top:A=0,...M}=t,_=null!=k?k:"tickFormat"in v?v.tickFormat():p.A,S=b===h.A.left,C=b===h.A.top,N=C||b===h.A.bottom,B=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";if("start"!==e&&"bandwidth"in t){let n=t.bandwidth();return"center"===e&&(n/=2),t.round()&&(n=Math.round(n)),e=>{let r=t(e);return"number"==typeof r?r+n:r}}return t}(v),T=S||C?-1:1,E=v.range(),z=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"number"==typeof t?{start:t,end:t}:{start:0,end:0,...t}}(y),D=g({x:Number(E[0])+.5-z.start,y:0},N),R=g({x:Number(E[E.length-1])+.5+z.end,y:0},N),L=(null!=j?j:(0,o.A)(v,m)).filter(t=>!l||0!==t&&"0"!==t).map((t,e)=>({value:t,index:e})),P=L.map(t=>{let{value:e,index:n}=t,r=(0,s.A)(B(e));return{value:e,index:n,from:g({x:r,y:0},N),to:g({x:r,y:w*T},N),formattedValue:_(e,n,L)}});return(0,u.jsx)(a.A,{className:i()("visx-axis",n),innerRef:d,top:A,left:x,children:e({...M,axisFromPoint:D,axisToPoint:R,hideAxisLine:r,hideTicks:c,hideZero:l,horizontal:N,numTicks:m,orientation:b,rangePadding:y,scale:v,tickFormat:_,tickLength:w,tickPosition:B,tickSign:T,ticks:P})})}},49554:(t,e,n)=>{"use strict";function r(t){if(("function"==typeof t||"object"==typeof t&&t)&&"valueOf"in t){let e=t.valueOf();if("number"==typeof e)return e}return t}n.d(e,{A:()=>r})},53406:(t,e,n)=>{"use strict";n.d(e,{A:()=>y});var r=n(6029),i=n(71711),a=n.n(i),o=n(55729),s=n(32988),c=n.n(s),l=n(12364),h=n.n(l);let u=(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),(0,r.jsx)("polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}),(0,r.jsx)("polyline",{points:"7.5 19.79 7.5 14.6 3 12"}),(0,r.jsx)("polyline",{points:"21 12 16.5 14.6 16.5 19.79"}),(0,r.jsx)("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),(0,r.jsx)("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),d=function(t){let{branch:e="master",exampleDirectoryName:n}=t;return n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("a",{href:"https://codesandbox.io/s/github/airbnb/visx/tree/".concat(e,"/packages/visx-demo/src/sandboxes/").concat(n),rel:"nofollow noopener noreferrer",target:"_blank",className:"jsx-235302354d1c0eb5 sandbox-link",children:[u,"\xa0Try it on CodeSandbox"]}),(0,r.jsx)(a(),{id:"235302354d1c0eb5",children:".sandbox-link.jsx-235302354d1c0eb5{display:flex;align-items:center;font-size:12px;color:#222}"})]}):null};var x=n(10918),f=n(13628),p=n(82203),m=n.n(p);let g=function(t){let{packageName:e}=t,n=function(t){let e=t.split("@visx/")[1];return e?"docs/".concat(e):null}(e);return n?(0,r.jsx)(m(),{href:n,children:e}):null};var b=n(6868);let y=function(t){return class extends o.Component{componentDidMount(){window.addEventListener("resize",this.resize,!1),this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.resize,!1),this.resize.cancel()}render(){let{screenWidth:e,screenHeight:n}=this.state;return null==e||null==n?null:(0,r.jsx)(t,{screenWidth:e,screenHeight:n,...this.props})}constructor(...e){super(...e),this.displayName=(()=>{var e,n;return"withScreenSize(".concat(null!=(n=null!=(e=t.displayName)?e:t.name)?n:"Component",")")})(),this.state={screenWidth:void 0,screenHeight:void 0},this.resize=(()=>{var t,e,n;return h()(()=>{this.setState(()=>({screenWidth:window.innerWidth,screenHeight:window.innerHeight}))},null!=(e=null!=(t=this.props.debounceTime)?t:this.props.windowResizeDebounceTime)?e:300,{leading:null==(n=this.props.enableDebounceLeadingCall)||n})})()}}}(t=>{let{screenWidth:e,children:n,title:i,component:s,shadow:l=!1,events:h=!1,margin:u,description:p,codeSandboxDirectoryName:m,packageJson:y}=t,v=Math.min(800,(e||0)-40),k=.6*v,w=(0,o.useMemo)(()=>(0,b.A)(y),[y]);return(0,r.jsxs)(x.A,{title:i,children:[(0,r.jsx)("div",{className:"jsx-45c6076f7af76ea container",children:(0,r.jsxs)("div",{style:{width:v},className:"jsx-45c6076f7af76ea",children:[(0,r.jsx)("h1",{className:"jsx-45c6076f7af76ea",children:i}),(0,r.jsx)("div",{className:"jsx-45c6076f7af76ea "+(c()(!!l&&"shadow",i.split(" ").join("-"),"chart")||""),children:o.createElement(s,{width:v,height:k,margin:u,events:h})}),p&&o.createElement(p,{width:v,height:k}),m&&(0,r.jsx)("div",{className:"jsx-45c6076f7af76ea sandbox-link",children:(0,r.jsx)(d,{exampleDirectoryName:m})}),w.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"jsx-45c6076f7af76ea",children:"Documentation"}),(0,r.jsx)("div",{className:"jsx-45c6076f7af76ea doc-links",children:w.map(t=>(0,r.jsx)(g,{packageName:t},t))})]}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"jsx-45c6076f7af76ea",children:"Code"}),(0,r.jsx)("div",{className:"jsx-45c6076f7af76ea code",children:(0,r.jsx)(f.A,{children:n})})]})]})}),(0,r.jsx)(a(),{id:"45c6076f7af76ea",children:".container.jsx-45c6076f7af76ea{display:flex;flex-direction:column;align-items:center;overflow:hidden;margin-bottom:40px}.container.jsx-45c6076f7af76ea h1.jsx-45c6076f7af76ea{margin-top:15px;line-height:.9em;letter-spacing:-.03em}.container.jsx-45c6076f7af76ea h2.jsx-45c6076f7af76ea{margin-top:15px;margin-bottom:5px}.chart.jsx-45c6076f7af76ea{border-radius:14px}.shadow.jsx-45c6076f7af76ea{border-radius:14px;box-shadow:0 1px 6px rgba(0,0,0,.1)}.sandbox-link.jsx-45c6076f7af76ea{display:flex;justify-content:flex-end}.doc-links.jsx-45c6076f7af76ea{font-size:13px}.doc-links.jsx-45c6076f7af76ea a{margin-right:6px}"})]})})},59825:(t,e,n)=>{"use strict";n.d(e,{A:()=>d});var r=n(55729),i=n(54580),a=n.n(i),o=n(55765),s=n.n(o);let c="__react_svg_text_measurement_id",l=s()(function(t,e){try{let n=document.getElementById(c);if(!n){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("aria-hidden","true"),t.style.width="0",t.style.height="0",t.style.position="absolute",t.style.top="-100%",t.style.left="-100%",(n=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",c),t.appendChild(n),document.body.appendChild(t)}return Object.assign(n.style,e),n.textContent=t,n.getComputedTextLength()}catch(t){return console.warn(t),null}},(t,e)=>"".concat(t,"_").concat(JSON.stringify(e)));function h(t){return"number"==typeof t}function u(t){return"number"==typeof t&&Number.isFinite(t)||"string"==typeof t}function d(t){let{verticalAnchor:e="end",scaleToFit:n=!1,angle:i,width:o,lineHeight:s="1em",capHeight:c="0.71em",children:d,style:x,...f}=t,{x:p=0,y:m=0}=f,g=!u(p)||!u(m),{wordsWithWidth:b,spaceWidth:y}=(0,r.useMemo)(()=>({wordsWithWidth:(null==d?[]:d.toString().split(/(?:(?!\u00A0+)\s+)/)).map(t=>({word:t,wordWidth:l(t,x)||0})),spaceWidth:l("\xa0",x)||0}),[d,x]),v=(0,r.useMemo)(()=>g?[]:o||n?b.reduce((t,e)=>{let{word:r,wordWidth:i}=e,a=t[t.length-1];return a&&(null==o||n||(a.width||0)+i+y<o)?(a.words.push(r),a.width=a.width||0,a.width+=i+y):t.push({words:[r],width:i}),t},[]):[{words:null==d?[]:d.toString().split(/(?:(?!\u00A0+)\s+)/)}],[g,o,n,d,b,y]),k=(0,r.useMemo)(()=>g?"":"start"===e?a()("calc(".concat(c,")")):"middle"===e?a()("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(c," / 2))")):a()("calc(".concat(v.length-1," * -").concat(s,")")),[g,e,c,v.length,s]),w=(0,r.useMemo)(()=>{let t=[];if(g)return"";if(h(p)&&h(m)&&h(o)&&n&&v.length>0){let e=v[0].width||1,r="shrink-only"===n?Math.min(o/e,1):o/e,i=p-r*p,a=m-r*m;t.push("matrix(".concat(r,", 0, 0, ").concat(r,", ").concat(i,", ").concat(a,")"))}return i&&t.push("rotate(".concat(i,", ").concat(p,", ").concat(m,")")),t.length>0?t.join(" "):""},[g,p,m,o,n,v,i]);return{wordsByLines:v,startDy:k,transform:w}}},65578:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6029);function i(t){let{id:e,width:n,height:i,children:a}=t;return(0,r.jsx)("defs",{children:(0,r.jsx)("pattern",{id:e,width:n,height:i,patternUnits:"userSpaceOnUse",children:a})})}},66952:(t,e,n)=>{"use strict";function r(t,e){return"ticks"in t?t.ticks(e):t.domain().filter((t,n,r)=>null==e||r.length<=e||n%Math.round((r.length-1)/e)==0)}n.d(e,{A:()=>r})},69077:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(29139);let i=(0,n(41573).A)("domain","range","reverse","clamp","interpolate","nice","round","zero");function a(t){return i((0,r.A)(),t)}},73101:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(6029);n(55729);var i=n(18268),a=n(65420),o=n(53406);let s=function(){return(0,r.jsx)(o.A,{component:i.Ay,title:"Brush",margin:{top:40,left:50,right:20,bottom:10},codeSandboxDirectoryName:"visx-brush",packageJson:a,children:"/* eslint-disable @typescript-eslint/no-use-before-define */\nimport React, { useRef, useState, useMemo } from 'react';\nimport { scaleTime, scaleLinear } from '@visx/scale';\nimport type { AppleStock } from '@visx/mock-data';\nimport { appleStock } from '@visx/mock-data';\nimport { Brush } from '@visx/brush';\nimport type {\n  Bounds,\n  BaseBrushState,\n  UpdateBrush,\n  BaseBrush,\n  BrushHandleRenderProps,\n} from '@visx/brush';\nimport { PatternLines } from '@visx/pattern';\nimport { Group } from '@visx/group';\nimport { LinearGradient } from '@visx/gradient';\nimport { max, extent } from '@visx/vendor/d3-array';\nimport AreaChart from './AreaChart';\n\n// Initialize some variables\nconst stock = appleStock.slice(1000);\nconst brushMargin = { top: 10, bottom: 15, left: 50, right: 20 };\nconst chartSeparation = 30;\nconst PATTERN_ID = 'brush_pattern';\nconst GRADIENT_ID = 'brush_gradient';\nexport const accentColor = '#f6acc8';\nexport const background = '#584153';\nexport const background2 = '#af8baf';\nconst selectedBrushStyle = {\n  fill: `url(#${PATTERN_ID})`,\n  stroke: 'white',\n};\n\n// accessors\nconst getDate = (d: AppleStock) => new Date(d.date);\nconst getStockValue = (d: AppleStock) => d.close;\n\nexport type BrushProps = {\n  width: number;\n  height: number;\n  margin?: { top: number; right: number; bottom: number; left: number };\n  compact?: boolean;\n};\n\nfunction BrushChart({\n  compact = false,\n  width,\n  height,\n  margin = {\n    top: 20,\n    left: 50,\n    bottom: 20,\n    right: 20,\n  },\n}: BrushProps) {\n  const brushRef = useRef<BaseBrush | null>(null);\n  const [filteredStock, setFilteredStock] = useState(stock);\n\n  const onBrushChange = (domain: Bounds | null) => {\n    if (!domain) return;\n    const { x0, x1, y0, y1 } = domain;\n    const stockCopy = stock.filter((s) => {\n      const x = getDate(s).getTime();\n      const y = getStockValue(s);\n      return x > x0 && x < x1 && y > y0 && y < y1;\n    });\n    setFilteredStock(stockCopy);\n  };\n\n  const innerHeight = height - margin.top - margin.bottom;\n  const topChartBottomMargin = compact ? chartSeparation / 2 : chartSeparation + 10;\n  const topChartHeight = 0.8 * innerHeight - topChartBottomMargin;\n  const bottomChartHeight = innerHeight - topChartHeight - chartSeparation;\n\n  // bounds\n  const xMax = Math.max(width - margin.left - margin.right, 0);\n  const yMax = Math.max(topChartHeight, 0);\n  const xBrushMax = Math.max(width - brushMargin.left - brushMargin.right, 0);\n  const yBrushMax = Math.max(bottomChartHeight - brushMargin.top - brushMargin.bottom, 0);\n\n  // scales\n  const dateScale = useMemo(\n    () =>\n      scaleTime<number>({\n        range: [0, xMax],\n        domain: extent(filteredStock, getDate) as [Date, Date],\n      }),\n    [xMax, filteredStock],\n  );\n  const stockScale = useMemo(\n    () =>\n      scaleLinear<number>({\n        range: [yMax, 0],\n        domain: [0, max(filteredStock, getStockValue) || 0],\n        nice: true,\n      }),\n    [yMax, filteredStock],\n  );\n  const brushDateScale = useMemo(\n    () =>\n      scaleTime<number>({\n        range: [0, xBrushMax],\n        domain: extent(stock, getDate) as [Date, Date],\n      }),\n    [xBrushMax],\n  );\n  const brushStockScale = useMemo(\n    () =>\n      scaleLinear({\n        range: [yBrushMax, 0],\n        domain: [0, max(stock, getStockValue) || 0],\n        nice: true,\n      }),\n    [yBrushMax],\n  );\n\n  const initialBrushPosition = useMemo(\n    () => ({\n      start: { x: brushDateScale(getDate(stock[50])) },\n      end: { x: brushDateScale(getDate(stock[100])) },\n    }),\n    [brushDateScale],\n  );\n\n  // event handlers\n  const handleClearClick = () => {\n    if (brushRef?.current) {\n      setFilteredStock(stock);\n      brushRef.current.reset();\n    }\n  };\n\n  const handleResetClick = () => {\n    if (brushRef?.current) {\n      const updater: UpdateBrush = (prevBrush) => {\n        const newExtent = brushRef.current!.getExtent(\n          initialBrushPosition.start,\n          initialBrushPosition.end,\n        );\n\n        const newState: BaseBrushState = {\n          ...prevBrush,\n          start: { y: newExtent.y0, x: newExtent.x0 },\n          end: { y: newExtent.y1, x: newExtent.x1 },\n          extent: newExtent,\n        };\n\n        return newState;\n      };\n      brushRef.current.updateBrush(updater);\n    }\n  };\n\n  return (\n    <div>\n      <svg width={width} height={height}>\n        <LinearGradient id={GRADIENT_ID} from={background} to={background2} rotate={45} />\n        <rect x={0} y={0} width={width} height={height} fill={`url(#${GRADIENT_ID})`} rx={14} />\n        <AreaChart\n          hideBottomAxis={compact}\n          data={filteredStock}\n          width={width}\n          margin={{ ...margin, bottom: topChartBottomMargin }}\n          yMax={yMax}\n          xScale={dateScale}\n          yScale={stockScale}\n          gradientColor={background2}\n        />\n        <AreaChart\n          hideBottomAxis\n          hideLeftAxis\n          data={stock}\n          width={width}\n          yMax={yBrushMax}\n          xScale={brushDateScale}\n          yScale={brushStockScale}\n          margin={brushMargin}\n          top={topChartHeight + topChartBottomMargin + margin.top}\n          gradientColor={background2}\n        >\n          <PatternLines\n            id={PATTERN_ID}\n            height={8}\n            width={8}\n            stroke={accentColor}\n            strokeWidth={1}\n            orientation={['diagonal']}\n          />\n          <Brush\n            xScale={brushDateScale}\n            yScale={brushStockScale}\n            width={xBrushMax}\n            height={yBrushMax}\n            margin={brushMargin}\n            handleSize={8}\n            innerRef={brushRef}\n            resizeTriggerAreas={['left', 'right']}\n            brushDirection=\"horizontal\"\n            initialBrushPosition={initialBrushPosition}\n            onChange={onBrushChange}\n            onClick={() => setFilteredStock(stock)}\n            selectedBoxStyle={selectedBrushStyle}\n            useWindowMoveEvents\n            renderBrushHandle={(props) => <BrushHandle {...props} />}\n          />\n        </AreaChart>\n      </svg>\n      <button onClick={handleClearClick}>Clear</button>&nbsp;\n      <button onClick={handleResetClick}>Reset</button>\n    </div>\n  );\n}\n// We need to manually offset the handles for them to be rendered at the right position\nfunction BrushHandle({ x, height, isBrushActive }: BrushHandleRenderProps) {\n  const pathWidth = 8;\n  const pathHeight = 15;\n  if (!isBrushActive) {\n    return null;\n  }\n  return (\n    <Group left={x + pathWidth / 2} top={(height - pathHeight) / 2}>\n      <path\n        fill=\"#f2f2f2\"\n        d=\"M -4.5 0.5 L 3.5 0.5 L 3.5 15.5 L -4.5 15.5 L -4.5 0.5 M -1.5 4 L -1.5 12 M 0.5 4 L 0.5 12\"\n        stroke=\"#999999\"\n        strokeWidth=\"1\"\n        style={{ cursor: 'ew-resize' }}\n      />\n    </Group>\n  );\n}\n\nexport default BrushChart;\n"})}},82607:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6029);function i(t){let{children:e,id:n,from:i,to:a,x1:o,y1:s,x2:c,y2:l,fromOffset:h="0%",fromOpacity:u=1,toOffset:d="100%",toOpacity:x=1,rotate:f,transform:p,vertical:m=!0,...g}=t,b=o,y=c,v=s,k=l;return!m||b||y||v||k||(b="0",y="0",v="0",k="1"),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:n,x1:b,y1:v,x2:y,y2:k,gradientTransform:f?"rotate(".concat(f,")"):p,...g,children:[!!e&&e,!e&&(0,r.jsx)("stop",{offset:h,stopColor:i,stopOpacity:u}),!e&&(0,r.jsx)("stop",{offset:d,stopColor:a,stopOpacity:x})]})})}},87665:(t,e,n)=>{"use strict";function r(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}n.d(e,{A:()=>r})},88918:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(59825),i=n(6029);let a={overflow:"visible"};function o(t){let{dx:e=0,dy:n=0,textAnchor:o="start",innerRef:s,innerTextRef:c,verticalAnchor:l,angle:h,lineHeight:u="1em",scaleToFit:d=!1,capHeight:x,width:f,...p}=t,{x:m=0,fontSize:g}=p,{wordsByLines:b,startDy:y,transform:v}=(0,r.A)(t);return(0,i.jsx)("svg",{ref:s,x:e,y:n,fontSize:g,style:a,children:b.length>0?(0,i.jsx)("text",{ref:c,transform:v,...p,textAnchor:o,children:b.map((t,e)=>(0,i.jsx)("tspan",{x:m,dy:0===e?y:u,children:t.words.join(" ")},e))}):null})}},93714:(t,e,n)=>{"use strict";function r(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0);return((a<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs((a*i+o*r)/(r+i)))||0}function i(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function o(t){this._context=t}function s(t){this._context=new c(t)}function c(t){this._context=t}function l(t){return new o(t)}function h(t){return new s(t)}n.d(e,{G:()=>l,N:()=>h}),o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,i(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e*=1,(t*=1)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a(this,i(this,n=r(this,t,e)),n);break;default:a(this,this._t0,n=r(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(s.prototype=Object.create(o.prototype)).point=function(t,e){o.prototype.point.call(this,e,t)},c.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}}}},t=>{t.O(0,[6593,899,9966,8915,2800,7616,4365,4688,1972,1098,5444,636,8792],()=>t(t.s=39169)),_N_E=t.O()}]);