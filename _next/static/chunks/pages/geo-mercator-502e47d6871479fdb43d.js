_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[107],{"8+kr":function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var r=e("5f3a"),a=e("uKU/"),o=e("W1cA");function c(){var n,t=0,e=1,i=1,u=[.5],s=[0,1];function f(t){return null!=t&&t<=t?s[Object(r.a)(u,t,0,i)]:n}function l(){var n=-1;for(u=new Array(i);++n<i;)u[n]=((n+1)*e-(n-i)*t)/(i+1);return f}return f.domain=function(n){return arguments.length?([t,e]=n,t=+t,e=+e,l()):[t,e]},f.range=function(n){return arguments.length?(i=(s=Array.from(n)).length-1,l()):s.slice()},f.invertExtent=function(n){var r=s.indexOf(n);return r<0?[NaN,NaN]:r<1?[t,u[0]]:r>=i?[u[i-1],e]:[u[r-1],u[r]]},f.unknown=function(t){return arguments.length?(n=t,f):f},f.thresholds=function(){return u.slice()},f.copy=function(){return c().domain([t,e]).range(s).unknown(n)},o.b.apply(Object(a.b)(f),arguments)}},HO86:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e("lEbO");function a(n,t){if(n){if("string"===typeof n)return Object(r.a)(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Object(r.a)(n,t):void 0}}},HWGz:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/geo-mercator",function(){return e("eE12")}])},JmwF:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var r=e("aWzz"),a=e.n(r),o=e("ERkP"),c=e.n(o),i=e("O94r"),u=e.n(i),s=["top","left","transform","className","children","innerRef"];function f(){return(f=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function l(n){var t=n.top,e=void 0===t?0:t,r=n.left,a=void 0===r?0:r,o=n.transform,i=n.className,l=n.children,h=n.innerRef,p=function(n,t){if(null==n)return{};var e,r,a={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(a[e]=n[e]);return a}(n,s);return c.a.createElement("g",f({ref:h,className:u()("visx-group",i),transform:o||"translate("+a+", "+e+")"},p),l)}l.propTypes={top:a.a.number,left:a.a.number,transform:a.a.string,className:a.a.string,children:a.a.node,innerRef:a.a.oneOfType([a.a.string,a.a.func,a.a.object])}},Q6s3:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var r=e("8+kr"),a=e("xx0A"),o=Object(a.b)("domain","range","reverse","nice","zero");function c(n){return o(Object(r.a)(),n)}},Zbhd:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var r=e("PB0s"),a=e("XAd9"),o=e("Cyas"),c=e("VBI3");function i(n,t,e,i){var u,s=Object(r.c)(n,t,e);switch((i=Object(a.a)(null==i?",f":i)).type){case"s":var f=Math.max(Math.abs(n),Math.abs(t));return null!=i.precision||isNaN(u=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(o.a)(t)/3)))-Object(o.a)(Math.abs(n)))}(s,f))||(i.precision=u),Object(c.b)(i,f);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(u=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Object(o.a)(t)-Object(o.a)(n))+1}(s,Math.max(Math.abs(n),Math.abs(t))))||(i.precision=u-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(u=function(n){return Math.max(0,-Object(o.a)(Math.abs(n)))}(s))||(i.precision=u-2*("%"===i.type))}return Object(c.a)(i)}},eE12:function(n,t,e){"use strict";e.r(t);var r=e("jg1C"),a=(e("ERkP"),e("6wy5")),o=e("O2oz"),c=e("d2Lb");t.default=function(){return Object(r.jsx)(a.a,{events:!0,component:o.b,title:"Geo Mercator",codeSandboxDirectoryName:"visx-geo-mercator",packageJson:c,children:"import React from 'react';\nimport { scaleQuantize } from '@visx/scale';\nimport { Mercator, Graticule } from '@visx/geo';\nimport * as topojson from 'topojson-client';\nimport topology from './world-topo.json';\n\nexport const background = '#f9f7e8';\n\nexport type GeoMercatorProps = {\n  width: number;\n  height: number;\n  events?: boolean;\n};\n\ninterface FeatureShape {\n  type: 'Feature';\n  id: string;\n  geometry: { coordinates: [number, number][][]; type: 'Polygon' };\n  properties: { name: string };\n}\n\n// @ts-ignore\nconst world = topojson.feature(topology, topology.objects.units) as {\n  type: 'FeatureCollection';\n  features: FeatureShape[];\n};\n\nconst color = scaleQuantize({\n  domain: [\n    Math.min(...world.features.map((f) => f.geometry.coordinates.length)),\n    Math.max(...world.features.map((f) => f.geometry.coordinates.length)),\n  ],\n  range: ['#ffb01d', '#ffa020', '#ff9221', '#ff8424', '#ff7425', '#fc5e2f', '#f94b3a', '#f63a48'],\n});\n\nexport default ({ width, height, events = false }: GeoMercatorProps) => {\n  const centerX = width / 2;\n  const centerY = height / 2;\n  const scale = (width / 630) * 100;\n\n  return width < 10 ? null : (\n    <svg width={width} height={height}>\n      <rect x={0} y={0} width={width} height={height} fill={background} rx={14} />\n      <Mercator<FeatureShape>\n        data={world.features}\n        scale={scale}\n        translate={[centerX, centerY + 50]}\n      >\n        {(mercator) => (\n          <g>\n            <Graticule graticule={(g) => mercator.path(g) || ''} stroke=\"rgba(33,33,33,0.05)\" />\n            {mercator.features.map(({ feature, path }, i) => (\n              <path\n                key={`map-feature-${i}`}\n                d={path || ''}\n                fill={color(feature.geometry.coordinates.length)}\n                stroke={background}\n                strokeWidth={0.5}\n                onClick={() => {\n                  if (events) alert(`Clicked: ${feature.properties.name} (${feature.id})`);\n                }}\n              />\n            ))}\n          </g>\n        )}\n      </Mercator>\n    </svg>\n  );\n};\n"})}},fGyu:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e("lEbO");var a=e("HO86");function o(n){return function(n){if(Array.isArray(n))return Object(r.a)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Object(a.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},lEbO:function(n,t,e){"use strict";function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}e.d(t,"a",(function(){return r}))},"uKU/":function(n,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"a",(function(){return u}));var r=e("PB0s"),a=e("2+fR"),o=e("W1cA"),c=e("Zbhd");function i(n){var t=n.domain;return n.ticks=function(n){var e=t();return Object(r.a)(e[0],e[e.length-1],null==n?10:n)},n.tickFormat=function(n,e){var r=t();return Object(c.a)(r[0],r[r.length-1],null==n?10:n,e)},n.nice=function(e){null==e&&(e=10);var a,o,c=t(),i=0,u=c.length-1,s=c[i],f=c[u],l=10;for(f<s&&(o=s,s=f,f=o,o=i,i=u,u=o);l-- >0;){if((o=Object(r.b)(s,f,e))===a)return c[i]=s,c[u]=f,t(c);if(o>0)s=Math.floor(s/o)*o,f=Math.ceil(f/o)*o;else{if(!(o<0))break;s=Math.ceil(s*o)/o,f=Math.floor(f*o)/o}a=o}return n},n}function u(){var n=Object(a.b)();return n.copy=function(){return Object(a.a)(n,u())},o.b.apply(n,arguments),i(n)}}},[["HWGz",0,2,1,3,4,5,6,26,37]]]);