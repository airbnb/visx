_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[132],{"/HE2":function(n,t){var e=/\s/;n.exports=function(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}},"0DlK":function(n,t,e){var r=e("/HE2"),o=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(o,""):n}},"201w":function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e("J4UP");function o(n){return Object(r.a)(n)}},"5GZr":function(n,t,e){var r=e("qPqG");n.exports=function(){return r.Date.now()}},Be24:function(n,t,e){var r=e("0DlK"),o=e("We3G"),i=e("bnhR"),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(i(n))return NaN;if(o(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=o(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var e=u.test(n);return e||c.test(n)?s(n.slice(2),e?2:8):a.test(n)?NaN:+n}},C5Uu:function(n){n.exports=JSON.parse('{"name":"@visx/demo-voronoi","description":"Standalone visx voronoi demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^17","@types/react-dom":"^17","@visx/clip-path":"latest","@visx/event":"latest","@visx/gradient":"latest","@visx/group":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/voronoi":"latest","react":"^17","react-dom":"^17","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","voronoi"]}')},CWFh:function(n,t,e){"use strict";e.r(t);var r=e("jg1C"),o=(e("ERkP"),e("6wy5")),i=e("yPcb"),a=e("C5Uu");t.default=function(){return Object(r.jsx)(o.a,{events:!0,margin:{top:0,left:0,right:0,bottom:0},component:i.a,title:"Voronoi",codeSandboxDirectoryName:"visx-voronoi",packageJson:a,children:"import React, { useState, useMemo, useRef } from 'react';\nimport { Group } from '@visx/group';\nimport { GradientOrangeRed, GradientPinkRed } from '@visx/gradient';\nimport { RectClipPath } from '@visx/clip-path';\nimport { voronoi, VoronoiPolygon } from '@visx/voronoi';\nimport { localPoint } from '@visx/event';\nimport { getSeededRandom } from '@visx/mock-data';\n\ntype Datum = {\n  x: number;\n  y: number;\n  id: string;\n};\n\nconst seededRandom = getSeededRandom(0.88);\n\nconst data: Datum[] = new Array(150).fill(null).map(() => ({\n  x: seededRandom(),\n  y: seededRandom(),\n  id: Math.random().toString(36).slice(2),\n}));\n\nconst neighborRadius = 75;\n\nconst defaultMargin = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 76,\n};\n\nexport type VoronoiProps = {\n  width: number;\n  height: number;\n  margin?: { top: number; right: number; bottom: number; left: number };\n};\n\nconst Example = ({ width, height, margin = defaultMargin }: VoronoiProps) => {\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n\n  const voronoiLayout = useMemo(\n    () =>\n      voronoi<Datum>({\n        x: (d) => d.x * innerWidth,\n        y: (d) => d.y * innerHeight,\n        width: innerWidth,\n        height: innerHeight,\n      })(data),\n    [innerWidth, innerHeight],\n  );\n\n  const polygons = voronoiLayout.polygons();\n  const svgRef = useRef<SVGSVGElement>(null);\n  const [hoveredId, setHoveredId] = useState<string | null>(null);\n  const [neighborIds, setNeighborIds] = useState<Set<string>>(new Set());\n\n  return width < 10 ? null : (\n    <svg width={width} height={height} ref={svgRef}>\n      <GradientOrangeRed id=\"voronoi_orange_red\" />\n      <GradientPinkRed id=\"voronoi_pink_red\" />\n      <RectClipPath id=\"voronoi_clip\" width={innerWidth} height={innerHeight} rx={14} />\n      <Group\n        top={margin.top}\n        left={margin.left}\n        clipPath=\"url(#voronoi_clip)\"\n        onMouseMove={(event) => {\n          if (!svgRef.current) return;\n\n          // find the nearest polygon to the current mouse position\n          const point = localPoint(svgRef.current, event);\n          if (!point) return;\n\n          const closest = voronoiLayout.find(point.x, point.y, neighborRadius);\n          // find neighboring polygons to hightlight\n          if (closest && closest.data.id !== hoveredId) {\n            const neighbors = new Set<string>();\n            const cell = voronoiLayout.cells[closest.index];\n            if (!cell) return;\n\n            cell.halfedges.forEach((index) => {\n              const edge = voronoiLayout.edges[index];\n              const { left, right } = edge;\n              if (left && left !== closest) neighbors.add(left.data.id);\n              else if (right && right !== closest) neighbors.add(right.data.id);\n            });\n\n            setNeighborIds(neighbors);\n            setHoveredId(closest.data.id);\n          }\n        }}\n        onMouseLeave={() => {\n          setHoveredId(null);\n          setNeighborIds(new Set());\n        }}\n      >\n        {polygons.map((polygon) => (\n          <VoronoiPolygon\n            key={`polygon-${polygon.data.id}`}\n            polygon={polygon}\n            fill={\n              hoveredId && (polygon.data.id === hoveredId || neighborIds.has(polygon.data.id))\n                ? 'url(#voronoi_orange_red)'\n                : 'url(#voronoi_pink_red)'\n            }\n            stroke=\"#fff\"\n            strokeWidth={1}\n            fillOpacity={hoveredId && neighborIds.has(polygon.data.id) ? 0.5 : 1}\n          />\n        ))}\n        {data.map(({ x, y, id }) => (\n          <circle\n            key={`circle-${id}`}\n            r={2}\n            cx={x * innerWidth}\n            cy={y * innerHeight}\n            fill={id === hoveredId ? 'fuchsia' : '#fff'}\n            fillOpacity={0.8}\n          />\n        ))}\n      </Group>\n    </svg>\n  );\n};\n\nexport default Example;\n"})}},FGHv:function(n,t,e){var r=e("We3G"),o=e("5GZr"),i=e("Be24"),a=Math.max,u=Math.min;n.exports=function(n,t,e){var c,s,d,l,f,p,h=0,v=!1,g=!1,m=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function y(t){var e=c,r=s;return c=s=void 0,h=t,l=n.apply(r,e)}function b(n){return h=n,f=setTimeout(O,t),v?y(n):l}function x(n){var e=n-p;return void 0===p||e>=t||e<0||g&&n-h>=d}function O(){var n=o();if(x(n))return w(n);f=setTimeout(O,function(n){var e=t-(n-p);return g?u(e,d-(n-h)):e}(n))}function w(n){return f=void 0,m&&c?y(n):(c=s=void 0,l)}function j(){var n=o(),e=x(n);if(c=arguments,s=this,p=n,e){if(void 0===f)return b(p);if(g)return clearTimeout(f),f=setTimeout(O,t),y(p)}return void 0===f&&(f=setTimeout(O,t)),l}return t=i(t)||0,r(e)&&(v=!!e.leading,d=(g="maxWait"in e)?a(i(e.maxWait)||0,t):d,m="trailing"in e?!!e.trailing:m),j.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=p=s=f=void 0},j.flush=function(){return void 0===f?l:w(o())},j}},IacN:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var r=e("aWzz"),o=e.n(r),i=e("ERkP"),a=e.n(i),u=e("hNR5"),c=["id","x","y","width","height"];function s(){return(s=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function d(n){var t=n.id,e=n.x,r=void 0===e?0:e,o=n.y,i=void 0===o?0:o,d=n.width,l=void 0===d?1:d,f=n.height,p=void 0===f?1:f,h=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,c);return a.a.createElement(u.a,{id:t},a.a.createElement("rect",s({x:r,y:i,width:l,height:p},h)))}d.propTypes={id:o.a.string.isRequired,x:o.a.oneOfType([o.a.string,o.a.number]),y:o.a.oneOfType([o.a.string,o.a.number]),width:o.a.oneOfType([o.a.string,o.a.number]),height:o.a.oneOfType([o.a.string,o.a.number])}},JmwF:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var r=e("aWzz"),o=e.n(r),i=e("ERkP"),a=e.n(i),u=e("O94r"),c=e.n(u),s=["top","left","transform","className","children","innerRef"];function d(){return(d=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function l(n){var t=n.top,e=void 0===t?0:t,r=n.left,o=void 0===r?0:r,i=n.transform,u=n.className,l=n.children,f=n.innerRef,p=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,s);return a.a.createElement("g",d({ref:f,className:c()("visx-group",u),transform:i||"translate("+o+", "+e+")"},p),l)}l.propTypes={top:o.a.number,left:o.a.number,transform:o.a.string,className:o.a.string,children:o.a.node,innerRef:o.a.oneOfType([o.a.string,o.a.func,o.a.object])}},LDMG:function(n,t,e){var r=e("LZoh"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;n.exports=function(n){var t=i.call(n,u),e=n[u];try{n[u]=void 0;var r=!0}catch(c){}var o=a.call(n);return r&&(t?n[u]=e:delete n[u]),o}},LZoh:function(n,t,e){var r=e("qPqG").Symbol;n.exports=r},Lrg7:function(n,t){n.exports=function(n){return null!=n&&"object"==typeof n}},M7oL:function(n,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(this,e("fRV1"))},Sqwn:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voronoi",function(){return e("CWFh")}])},We3G:function(n,t){n.exports=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}},bnhR:function(n,t,e){var r=e("luLf"),o=e("Lrg7");n.exports=function(n){return"symbol"==typeof n||o(n)&&"[object Symbol]"==r(n)}},cZPn:function(n,t){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},fRV1:function(n,t){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"===typeof window&&(e=window)}n.exports=e},hNR5:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var r=e("aWzz"),o=e.n(r),i=e("ERkP"),a=e.n(i),u=["id","children"];function c(){return(c=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function s(n){var t=n.id,e=n.children,r=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,u);return a.a.createElement("defs",null,a.a.createElement("clipPath",c({id:t},r),e))}s.propTypes={id:o.a.string.isRequired,children:o.a.node}},luLf:function(n,t,e){var r=e("LZoh"),o=e("LDMG"),i=e("cZPn"),a=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":a&&a in Object(n)?o(n):i(n)}},qPqG:function(n,t,e){var r=e("M7oL"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();n.exports=i},rkTo:function(n,t,e){"use strict";function r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}e.d(t,"a",(function(){return o}));var o=function(){function n(n){var t=n.x,e=void 0===t?0:t,o=n.y,i=void 0===o?0:o;r(this,"x",0),r(this,"y",0),this.x=e,this.y=i}var t=n.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},n}()},wPPg:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var r=e("ERkP"),o=e.n(r),i=e("Cf/J"),a=["from","to"];function u(){return(u=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n}).apply(this,arguments)}function c(n){var t=n.from,e=void 0===t?"#FCE38A":t,r=n.to,c=void 0===r?"#F38181":r,s=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,a);return o.a.createElement(i.a,u({from:e,to:c},s))}},yPcb:function(n,t,e){"use strict";var r=e("jg1C"),o=e("ERkP"),i=e("JmwF"),a=e("wPPg"),u=e("oqwl"),c=e("IacN"),s=e("krkd"),d=e("Tkov"),l=e("jpI8"),f=e("201w"),p=Object(f.a)(.88),h=new Array(150).fill(null).map((function(){return{x:p(),y:p(),id:Math.random().toString(36).slice(2)}})),v={top:0,left:0,right:0,bottom:76},g=function(n){var t=n.width,e=n.height,f=n.margin,p=void 0===f?v:f,g=t-p.left-p.right,m=e-p.top-p.bottom,y=Object(o.useMemo)((function(){return Object(s.a)({x:function(n){return n.x*g},y:function(n){return n.y*m},width:g,height:m})(h)}),[g,m]),b=y.polygons(),x=Object(o.useRef)(null),O=Object(o.useState)(null),w=O[0],j=O[1],R=Object(o.useState)(new Set),_=R[0],P=R[1];return t<10?null:Object(r.jsxs)("svg",{width:t,height:e,ref:x,children:[Object(r.jsx)(a.a,{id:"voronoi_orange_red"}),Object(r.jsx)(u.a,{id:"voronoi_pink_red"}),Object(r.jsx)(c.a,{id:"voronoi_clip",width:g,height:m,rx:14}),Object(r.jsxs)(i.a,{top:p.top,left:p.left,clipPath:"url(#voronoi_clip)",onMouseMove:function(n){if(x.current){var t=Object(l.a)(x.current,n);if(t){var e=y.find(t.x,t.y,75);if(e&&e.data.id!==w){var r=new Set,o=y.cells[e.index];if(!o)return;o.halfedges.forEach((function(n){var t=y.edges[n],o=t.left,i=t.right;o&&o!==e?r.add(o.data.id):i&&i!==e&&r.add(i.data.id)})),P(r),j(e.data.id)}}}},onMouseLeave:function(){j(null),P(new Set)},children:[b.map((function(n){return Object(r.jsx)(d.a,{polygon:n,fill:w&&(n.data.id===w||_.has(n.data.id))?"url(#voronoi_orange_red)":"url(#voronoi_pink_red)",stroke:"#fff",strokeWidth:1,fillOpacity:w&&_.has(n.data.id)?.5:1},"polygon-".concat(n.data.id))})),h.map((function(n){var t=n.x,e=n.y,o=n.id;return Object(r.jsx)("circle",{r:2,cx:t*g,cy:e*m,fill:o===w?"fuchsia":"#fff",fillOpacity:.8},"circle-".concat(o))}))]})]})};t.a=g;try{g.displayName="Example",g.__docgenInfo={description:"",displayName:"Example",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"{ top: number; right: number; bottom: number; left: number; } | undefined"}}}},"undefined"!==typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/sandboxes/visx-voronoi/Example.tsx#Example"]={docgenInfo:g.__docgenInfo,name:"Example",path:"src/sandboxes/visx-voronoi/Example.tsx#Example"})}catch(m){}}},[["Sqwn",0,2,1,3,6,20]]]);