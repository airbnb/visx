(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6695],{6868:(n,e,t)=>{"use strict";function a(n){var e;let t=[];return Object.keys(null!=(e=null==n?void 0:n.dependencies)?e:{}).forEach(n=>{n.startsWith("@visx/")&&t.push(n)}),t}t.d(e,{A:()=>a})},11435:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/heatmaps",function(){return t(36560)}])},13628:(n,e,t)=>{"use strict";t.d(e,{A:()=>d});var a=t(6029),i=t(71711),r=t.n(i);t(55729);var c=t(26613),s=t(83805),o=t.n(s);function l(n){let{lines:e}=n;return(0,a.jsx)("span",{"aria-hidden":"true",className:"line-numbers-rows",children:e.map((n,t)=>(0,a.jsx)("span",{},"line-number-".concat(e.length,"-").concat(t)))})}function d(n){let{children:e}=n,t=e.match(/\n(?!$)/g),i=Array((t?t.length+1:1)+1).fill(1),s=[c.renderToString((0,a.jsx)(l,{lines:i})),o().highlight(e,o().languages.ts,"tsx")].join("");return(0,a.jsxs)("pre",{className:"jsx-863e3e1135f82530 codeblock line-numbers",children:[(0,a.jsx)("code",{dangerouslySetInnerHTML:{__html:s},className:"jsx-863e3e1135f82530"}),(0,a.jsx)(r(),{id:"863e3e1135f82530",children:".codeblock.jsx-863e3e1135f82530 code.jsx-863e3e1135f82530{display:block;padding:0 0 0 1.5rem;border-radius:0;font-weight:300;font-size:14px;line-height:1.4em;background:white;color:#495057}.codeblock.line-numbers.jsx-863e3e1135f82530{padding-left:0}@media(max-width:600px){.codeblock.jsx-863e3e1135f82530 code.jsx-863e3e1135f82530{font-size:10px;padding:0;pointer-events:none}}"})]})}t(66664),t(27388),t(83334)},17735:(n,e,t)=>{"use strict";t.d(e,{A:()=>i});var a=t(96494);function i(n){return(0,a.A)(n)}},29139:(n,e,t)=>{"use strict";t.d(e,{A:()=>function n(){var e=(0,i.Ay)();return e.copy=function(){return(0,i.C)(e,n())},r.C.apply(e,arguments),l(e)},C:()=>l});var a=t(38815),i=t(65725),r=t(64210),c=t(80600),s=t(31760),o=t(85173);function l(n){var e=n.domain;return n.ticks=function(n){var t=e();return(0,a.Ay)(t[0],t[t.length-1],null==n?10:n)},n.tickFormat=function(n,t){var i=e();return function(n,e,t,i){var r,l,d,m=(0,a.sG)(n,e,t);switch((i=(0,c.A)(null==i?",f":i)).type){case"s":var h=Math.max(Math.abs(n),Math.abs(e));return null!=i.precision||isNaN(d=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,s.A)(h)/3)))-(0,s.A)(Math.abs(m))))||(i.precision=d),(0,o.s)(i,h);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN((r=m,l=Math.abs(l=Math.max(Math.abs(n),Math.abs(e)))-(r=Math.abs(r)),d=Math.max(0,(0,s.A)(l)-(0,s.A)(r))+1))||(i.precision=d-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(d=Math.max(0,-(0,s.A)(Math.abs(m))))||(i.precision=d-("%"===i.type)*2)}return(0,o.GP)(i)}(i[0],i[i.length-1],null==n?10:n,t)},n.nice=function(t){null==t&&(t=10);var i,r,c=e(),s=0,o=c.length-1,l=c[s],d=c[o],m=10;for(d<l&&(r=l,l=d,d=r,r=s,s=o,o=r);m-- >0;){if((r=(0,a.lq)(l,d,t))===i)return c[s]=l,c[o]=d,e(c);if(r>0)l=Math.floor(l/r)*r,d=Math.ceil(d/r)*r;else if(r<0)l=Math.ceil(l*r)/r,d=Math.floor(d*r)/r;else break;i=r}return n},n}},32602:(n,e,t)=>{"use strict";t.d(e,{A:()=>c});var a=t(32988),i=t.n(a),r=t(6029);function c(n){let{top:e=0,left:t=0,transform:a,className:c,children:s,innerRef:o,...l}=n;return(0,r.jsx)("g",{ref:o,className:i()("visx-group",c),transform:a||"translate(".concat(t,", ").concat(e,")"),...l,children:s})}},36560:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>s});var a=t(6029);t(55729);var i=t(45037),r=t(65820),c=t(53406);let s=function(){return(0,a.jsx)(c.A,{events:!0,margin:{top:10,left:40,right:30,bottom:80},component:i.A,title:"Heatmaps",codeSandboxDirectoryName:"visx-heatmap",packageJson:r,children:"import React from 'react';\nimport { Group } from '@visx/group';\nimport type { Bin, Bins } from '@visx/mock-data';\nimport { genBins, getSeededRandom } from '@visx/mock-data';\nimport { scaleLinear } from '@visx/scale';\nimport { HeatmapCircle, HeatmapRect } from '@visx/heatmap';\n\nconst hot1 = '#77312f';\nconst hot2 = '#f33d15';\nconst cool1 = '#122549';\nconst cool2 = '#b4fbde';\nexport const background = '#28272c';\n\nconst seededRandom = getSeededRandom(0.41);\n\nconst binData = genBins(\n  /* length = */ 16,\n  /* height = */ 16,\n  /** binFunc */ (idx) => 150 * idx,\n  /** countFunc */ (i, number) => 25 * (number - i) * seededRandom(),\n);\n\nfunction max<Datum>(data: Datum[], value: (d: Datum) => number): number {\n  return Math.max(...data.map(value));\n}\n\nfunction min<Datum>(data: Datum[], value: (d: Datum) => number): number {\n  return Math.min(...data.map(value));\n}\n\n// accessors\nconst bins = (d: Bins) => d.bins;\nconst count = (d: Bin) => d.count;\n\nconst colorMax = max(binData, (d) => max(bins(d), count));\nconst bucketSizeMax = max(binData, (d) => bins(d).length);\n\n// scales\nconst xScale = scaleLinear<number>({\n  domain: [0, binData.length],\n});\nconst yScale = scaleLinear<number>({\n  domain: [0, bucketSizeMax],\n});\nconst circleColorScale = scaleLinear<string>({\n  range: [hot1, hot2],\n  domain: [0, colorMax],\n});\nconst rectColorScale = scaleLinear<string>({\n  range: [cool1, cool2],\n  domain: [0, colorMax],\n});\nconst opacityScale = scaleLinear<number>({\n  range: [0.1, 1],\n  domain: [0, colorMax],\n});\n\nexport type HeatmapProps = {\n  width: number;\n  height: number;\n  margin?: { top: number; right: number; bottom: number; left: number };\n  separation?: number;\n  events?: boolean;\n};\n\nconst defaultMargin = { top: 10, left: 20, right: 20, bottom: 110 };\n\nfunction Example({\n  width,\n  height,\n  events = false,\n  margin = defaultMargin,\n  separation = 20,\n}: HeatmapProps) {\n  // bounds\n  const size =\n    width > margin.left + margin.right ? width - margin.left - margin.right - separation : width;\n  const xMax = size / 2;\n  const yMax = height - margin.bottom - margin.top;\n\n  const binWidth = xMax / binData.length;\n  const binHeight = yMax / bucketSizeMax;\n  const radius = min([binWidth, binHeight], (d) => d) / 2;\n\n  xScale.range([0, xMax]);\n  yScale.range([yMax, 0]);\n\n  return width < 10 ? null : (\n    <svg width={width} height={height}>\n      <rect x={0} y={0} width={width} height={height} rx={14} fill={background} />\n      <Group top={margin.top} left={margin.left}>\n        <HeatmapCircle\n          data={binData}\n          xScale={(d) => xScale(d) ?? 0}\n          yScale={(d) => yScale(d) ?? 0}\n          colorScale={circleColorScale}\n          opacityScale={opacityScale}\n          radius={radius}\n          gap={2}\n        >\n          {(heatmap) =>\n            heatmap.map((heatmapBins) =>\n              heatmapBins.map((bin) => (\n                <circle\n                  key={`heatmap-circle-${bin.row}-${bin.column}`}\n                  className=\"visx-heatmap-circle\"\n                  cx={bin.cx}\n                  cy={bin.cy}\n                  r={bin.r}\n                  fill={bin.color}\n                  fillOpacity={bin.opacity}\n                  onClick={() => {\n                    if (!events) return;\n                    const { row, column } = bin;\n                    alert(JSON.stringify({ row, column, bin: bin.bin }));\n                  }}\n                />\n              )),\n            )\n          }\n        </HeatmapCircle>\n      </Group>\n      <Group top={margin.top} left={xMax + margin.left + separation}>\n        <HeatmapRect\n          data={binData}\n          xScale={(d) => xScale(d) ?? 0}\n          yScale={(d) => yScale(d) ?? 0}\n          colorScale={rectColorScale}\n          opacityScale={opacityScale}\n          binWidth={binWidth}\n          binHeight={binWidth}\n          gap={2}\n        >\n          {(heatmap) =>\n            heatmap.map((heatmapBins) =>\n              heatmapBins.map((bin) => (\n                <rect\n                  key={`heatmap-rect-${bin.row}-${bin.column}`}\n                  className=\"visx-heatmap-rect\"\n                  width={bin.width}\n                  height={bin.height}\n                  x={bin.x}\n                  y={bin.y}\n                  fill={bin.color}\n                  fillOpacity={bin.opacity}\n                  onClick={() => {\n                    if (!events) return;\n                    const { row, column } = bin;\n                    alert(JSON.stringify({ row, column, bin: bin.bin }));\n                  }}\n                />\n              )),\n            )\n          }\n        </HeatmapRect>\n      </Group>\n    </svg>\n  );\n}\n\nexport default Example;\n"})}},45037:(n,e,t)=>{"use strict";t.d(e,{T:()=>x,A:()=>C});var a,i,r=t(6029);t(55729);var c=t(32602),s=t(17735);let o=(n,e)=>25*(e-n)*Math.random(),l=(n,e)=>150*n;var d=t(69077),m=t(32988),h=t.n(m);function p(n){let{className:e,top:t,left:a,data:i=[],gap:s=1,radius:o=6,xScale:l,yScale:d,colorScale:m=()=>void 0,opacityScale:p=()=>1,bins:u=n=>null==n?void 0:n.bins,count:x=n=>null==n?void 0:n.count,children:f,...b}=n,g=o-s,v=i.map((n,e)=>{let t=l(e);return u(n).map((a,i)=>{let r=x(a);return{bin:a,row:i,column:e,datum:n,radius:o,gap:s,count:r,cx:o+t,cy:d(i)+s+o,r:g,opacity:p(r),color:m(r)}})});return f?(0,r.jsx)(r.Fragment,{children:f(v)}):(0,r.jsx)(c.A,{className:"visx-heatmap-circles",top:t,left:a,children:v.map(n=>n.map(n=>(0,r.jsx)("circle",{className:h()("visx-heatmap-circle",e),r:n.r,cx:n.cx,cy:n.cy,fill:n.color,fillOpacity:n.opacity,...b},"heatmap-tile-circle-".concat(n.row,"-").concat(n.column))))})}function u(n){let{className:e,top:t,left:a,data:i=[],binWidth:s=6,binHeight:o=6,x0:l=0,gap:d=1,xScale:m,yScale:p,colorScale:u=()=>void 0,opacityScale:x=()=>1,bins:f=n=>null==n?void 0:n.bins,count:b=n=>null==n?void 0:n.count,children:g,...v}=n,y=s-d,j=o-d,w=i.map((n,e)=>{let t=m(e);return f(n).map((a,i)=>{let r=b(a);return{bin:a,row:i,column:e,datum:n,width:y,height:j,gap:d,count:r,x:t+l,y:p(i)+d,color:u(r),opacity:x(r)}})});return g?(0,r.jsx)(r.Fragment,{children:g(w)}):(0,r.jsx)(c.A,{className:"visx-heatmap-rects",top:t,left:a,children:w.map(n=>n.map(n=>(0,r.jsx)("rect",{className:h()("visx-heatmap-rect",e),width:n.width,height:n.height,x:n.x,y:n.y,fill:n.color,fillOpacity:n.opacity,...v},"heatmap-tile-rect-".concat(n.row,"-").concat(n.column))))})}let x="#28272c",f=(0,s.A)(.41),b=(a=n=>150*n,i=(n,e)=>25*(e-n)*f(),Array(16).fill(1).reduce((n,e,t)=>n.concat([{bin:t,bins:function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return Array(n).fill(1).reduce((a,i,r)=>a.concat([{bin:e(r,n),count:t(r,n)}]),[])}(16,a,i)}]),[]));function g(n,e){return Math.max(...n.map(e))}let v=n=>n.count,y=g(b,n=>g(n.bins,v)),j=g(b,n=>n.bins.length),w=(0,d.A)({domain:[0,b.length]}),S=(0,d.A)({domain:[0,j]}),M=(0,d.A)({range:["#77312f","#f33d15"],domain:[0,y]}),k=(0,d.A)({range:["#122549","#b4fbde"],domain:[0,y]}),N=(0,d.A)({range:[.1,1],domain:[0,y]}),A={top:10,left:20,right:20,bottom:110},C=function(n){var e,t;let{width:a,height:i,events:s=!1,margin:o=A,separation:l=20}=n,d=(a>o.left+o.right?a-o.left-o.right-l:a)/2,m=i-o.bottom-o.top,h=d/b.length,f=(e=[h,m/j],t=n=>n,Math.min(...e.map(t))/2);return w.range([0,d]),S.range([m,0]),a<10?null:(0,r.jsxs)("svg",{width:a,height:i,children:[(0,r.jsx)("rect",{x:0,y:0,width:a,height:i,rx:14,fill:x}),(0,r.jsx)(c.A,{top:o.top,left:o.left,children:(0,r.jsx)(p,{data:b,xScale:n=>{var e;return null!=(e=w(n))?e:0},yScale:n=>{var e;return null!=(e=S(n))?e:0},colorScale:M,opacityScale:N,radius:f,gap:2,children:n=>n.map(n=>n.map(n=>(0,r.jsx)("circle",{className:"visx-heatmap-circle",cx:n.cx,cy:n.cy,r:n.r,fill:n.color,fillOpacity:n.opacity,onClick:()=>{if(!s)return;let{row:e,column:t}=n;alert(JSON.stringify({row:e,column:t,bin:n.bin}))}},"heatmap-circle-".concat(n.row,"-").concat(n.column))))})}),(0,r.jsx)(c.A,{top:o.top,left:d+o.left+l,children:(0,r.jsx)(u,{data:b,xScale:n=>{var e;return null!=(e=w(n))?e:0},yScale:n=>{var e;return null!=(e=S(n))?e:0},colorScale:k,opacityScale:N,binWidth:h,binHeight:h,gap:2,children:n=>n.map(n=>n.map(n=>(0,r.jsx)("rect",{className:"visx-heatmap-rect",width:n.width,height:n.height,x:n.x,y:n.y,fill:n.color,fillOpacity:n.opacity,onClick:()=>{if(!s)return;let{row:e,column:t}=n;alert(JSON.stringify({row:e,column:t,bin:n.bin}))}},"heatmap-rect-".concat(n.row,"-").concat(n.column))))})})]})}},53406:(n,e,t)=>{"use strict";t.d(e,{A:()=>v});var a=t(6029),i=t(71711),r=t.n(i),c=t(55729),s=t(32988),o=t.n(s),l=t(12364),d=t.n(l);let m=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),(0,a.jsx)("polyline",{points:"7.5 4.21 12 6.81 16.5 4.21"}),(0,a.jsx)("polyline",{points:"7.5 19.79 7.5 14.6 3 12"}),(0,a.jsx)("polyline",{points:"21 12 16.5 14.6 16.5 19.79"}),(0,a.jsx)("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),(0,a.jsx)("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),h=function(n){let{branch:e="master",exampleDirectoryName:t}=n;return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("a",{href:"https://codesandbox.io/s/github/airbnb/visx/tree/".concat(e,"/packages/visx-demo/src/sandboxes/").concat(t),rel:"nofollow noopener noreferrer",target:"_blank",className:"jsx-235302354d1c0eb5 sandbox-link",children:[m,"\xa0Try it on CodeSandbox"]}),(0,a.jsx)(r(),{id:"235302354d1c0eb5",children:".sandbox-link.jsx-235302354d1c0eb5{display:flex;align-items:center;font-size:12px;color:#222}"})]}):null};var p=t(10918),u=t(13628),x=t(82203),f=t.n(x);let b=function(n){let{packageName:e}=n,t=function(n){let e=n.split("@visx/")[1];return e?"docs/".concat(e):null}(e);return t?(0,a.jsx)(f(),{href:t,children:e}):null};var g=t(6868);let v=function(n){return class extends c.Component{componentDidMount(){window.addEventListener("resize",this.resize,!1),this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.resize,!1),this.resize.cancel()}render(){let{screenWidth:e,screenHeight:t}=this.state;return null==e||null==t?null:(0,a.jsx)(n,{screenWidth:e,screenHeight:t,...this.props})}constructor(...e){super(...e),this.displayName=(()=>{var e,t;return"withScreenSize(".concat(null!=(t=null!=(e=n.displayName)?e:n.name)?t:"Component",")")})(),this.state={screenWidth:void 0,screenHeight:void 0},this.resize=(()=>{var n,e,t;return d()(()=>{this.setState(()=>({screenWidth:window.innerWidth,screenHeight:window.innerHeight}))},null!=(e=null!=(n=this.props.debounceTime)?n:this.props.windowResizeDebounceTime)?e:300,{leading:null==(t=this.props.enableDebounceLeadingCall)||t})})()}}}(n=>{let{screenWidth:e,children:t,title:i,component:s,shadow:l=!1,events:d=!1,margin:m,description:x,codeSandboxDirectoryName:f,packageJson:v}=n,y=Math.min(800,(e||0)-40),j=.6*y,w=(0,c.useMemo)(()=>(0,g.A)(v),[v]);return(0,a.jsxs)(p.A,{title:i,children:[(0,a.jsx)("div",{className:"jsx-45c6076f7af76ea container",children:(0,a.jsxs)("div",{style:{width:y},className:"jsx-45c6076f7af76ea",children:[(0,a.jsx)("h1",{className:"jsx-45c6076f7af76ea",children:i}),(0,a.jsx)("div",{className:"jsx-45c6076f7af76ea "+(o()(!!l&&"shadow",i.split(" ").join("-"),"chart")||""),children:c.createElement(s,{width:y,height:j,margin:m,events:d})}),x&&c.createElement(x,{width:y,height:j}),f&&(0,a.jsx)("div",{className:"jsx-45c6076f7af76ea sandbox-link",children:(0,a.jsx)(h,{exampleDirectoryName:f})}),w.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"jsx-45c6076f7af76ea",children:"Documentation"}),(0,a.jsx)("div",{className:"jsx-45c6076f7af76ea doc-links",children:w.map(n=>(0,a.jsx)(b,{packageName:n},n))})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"jsx-45c6076f7af76ea",children:"Code"}),(0,a.jsx)("div",{className:"jsx-45c6076f7af76ea code",children:(0,a.jsx)(u.A,{children:t})})]})]})}),(0,a.jsx)(r(),{id:"45c6076f7af76ea",children:".container.jsx-45c6076f7af76ea{display:flex;flex-direction:column;align-items:center;overflow:hidden;margin-bottom:40px}.container.jsx-45c6076f7af76ea h1.jsx-45c6076f7af76ea{margin-top:15px;line-height:.9em;letter-spacing:-.03em}.container.jsx-45c6076f7af76ea h2.jsx-45c6076f7af76ea{margin-top:15px;margin-bottom:5px}.chart.jsx-45c6076f7af76ea{border-radius:14px}.shadow.jsx-45c6076f7af76ea{border-radius:14px;box-shadow:0 1px 6px rgba(0,0,0,.1)}.sandbox-link.jsx-45c6076f7af76ea{display:flex;justify-content:flex-end}.doc-links.jsx-45c6076f7af76ea{font-size:13px}.doc-links.jsx-45c6076f7af76ea a{margin-right:6px}"})]})})},65820:n=>{"use strict";n.exports=JSON.parse('{"name":"@visx/demo-heatmap","description":"Standalone visx heatmap demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/group":"latest","@visx/heatmap":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","heatmap"]}')},69077:(n,e,t)=>{"use strict";t.d(e,{A:()=>r});var a=t(29139);let i=(0,t(41573).A)("domain","range","reverse","clamp","interpolate","nice","round","zero");function r(n){return i((0,a.A)(),n)}},96494:(n,e,t)=>{"use strict";t.d(e,{A:()=>i});let a=1/0x100000000;function i(n=Math.random()){let e=(0<=n&&n<1?n/a:Math.abs(n))|0;return()=>a*((e=1664525*e+0x3c6ef35f|0)>>>0)}}},n=>{n.O(0,[6593,899,9966,8915,2800,1972,636,8792],()=>n(n.s=11435)),_N_E=n.O()}]);