"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6012],{92946:function(e,a,s){s.d(a,{ZP:function(){return Example},WO:function(){return L}});var t=s(52322),l=s(2784),n=s(27282),d=s(57007),c=s(13980),i=s.n(c),o=s(72779),r=s.n(o),x=s(731),h=s(89549),j=s(55021),b=s(16148);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)({}).hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(null,arguments)}var u={display:"inline-block"};function HtmlLabel(e){var a=e.anchorLineStroke,s=e.children,t=e.className,n=e.containerStyle,d=e.horizontalAnchor,c=e.resizeObserverPolyfill,i=e.showAnchorLine,o=void 0===i||i,m=e.verticalAnchor,f=e.x,p=e.y,v=(0,x.Z)({polyfill:c}),g=v[0],N=v[1],y=N.width,k=N.height,S=(0,l.useContext)(j.Z),C=S.x,w=void 0===C?0:C,z=S.y,E=void 0===z?0:z,Z=S.dx,A=void 0===Z?0:Z,L=S.dy,M=void 0===L?0:L,O=d||(Math.abs(A)<Math.abs(M)?"middle":A>0?"start":"end"),H=m||(Math.abs(A)>Math.abs(M)?"middle":M>0?"start":"end"),D=(0,l.useMemo)(function(){var e=null==f?w+A:f,a=null==p?E+M:p;return"middle"===O&&(e-=y/2),"end"===O&&(e-=y),"middle"===H&&(a-=k/2),"end"===H&&(a-=k),{x:e,y:a}},[f,w,A,p,E,M,O,H,y,k]);return l.createElement(h.Z,{top:D.y,left:D.x,pointerEvents:"none",className:r()("visx-annotationlabel",t)},l.createElement("foreignObject",{width:y,height:k,overflow:"visible"},l.createElement("div",{ref:g,style:n?_extends({},u,n):u},s)),o&&l.createElement(b.Z,{anchorLineOrientation:Math.abs(A)>Math.abs(M)?"vertical":"horizontal",anchorLineStroke:void 0===a?"#222":a,verticalAnchor:H,horizontalAnchor:O,width:y,height:k}))}HtmlLabel.propTypes={children:i().node};var m=s(7424),f=s(63358),p=s(58500),v=s(37108),g=s.n(v),N=s(12722),y=s(82790),k=s(42613),S=s(54048),C=s(95822),w=s(45191);let z=N.Z.slice(-100),getDate=e=>new Date(e.date).valueOf(),getStockValue=e=>e.close,E=z[Math.floor(z.length/2)+4];function ExampleControls(e){var a,s;let{width:n,height:d,compact:c=!1,children:i}=e,o=(0,l.useMemo)(()=>(0,y.Z)({domain:(0,S.Z)(z,e=>getDate(e)),range:[0,n]}),[n]),r=(0,l.useMemo)(()=>(0,k.Z)({domain:(0,S.Z)(z,e=>getStockValue(e)),range:[d-100,100]}),[d]),[x,h]=(0,l.useState)(!1),[j,b]=(0,l.useState)(!1),[u,m]=(0,l.useState)("Title"),[f,p]=(0,l.useState)(c?"Subtitle":"Subtitle with deets and deets and deets and deets"),[v,N]=(0,l.useState)("elbow"),[Z,A]=(0,l.useState)("circle"),[L,M]=(0,l.useState)(!0),[O,H]=(0,l.useState)("svg"),[D,V]=(0,l.useState)("auto"),[_,P]=(0,l.useState)("auto"),[T]=(0,l.useState)(c?100:175),[W,F]=(0,l.useState)({x:null!==(a=o(getDate(E)))&&void 0!==a?a:0,y:null!==(s=r(getStockValue(E)))&&void 0!==s?s:0,dx:c?-50:-100,dy:c?-30:-50});return(0,l.useEffect)(()=>{F(e=>{var a,s;return{...e,x:null!==(a=o(getDate(E)))&&void 0!==a?a:0,y:null!==(s=r(getStockValue(E)))&&void 0!==s?s:0}})},[o,r]),(0,t.jsxs)(t.Fragment,{children:[i({AnnotationComponent:x||j?C.Z:w.Z,annotationPosition:W,approxTooltipHeight:70,connectorType:v,data:z,editLabelPosition:x,editSubjectPosition:j,getDate,getStockValue,horizontalAnchor:"auto"===_?void 0:_,labelType:O,labelWidth:T,setAnnotationPosition:F,showAnchorLine:L,subjectType:Z,subtitle:f,title:u,verticalAnchor:"auto"===D?void 0:D,xScale:o,yScale:r}),!c&&(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6 controls",children:[(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Title"}),"\xa0\xa0",(0,t.jsx)("input",{type:"text",onChange:e=>m(e.target.value),value:u,className:"jsx-6a23f0849a9cdbd6"})]}),"\xa0\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Subtitle"}),"\xa0\xa0",(0,t.jsx)("input",{type:"text",onChange:e=>p(e.target.value),value:f,className:"jsx-6a23f0849a9cdbd6"})]}),"\xa0\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>b(!j),checked:j,className:"jsx-6a23f0849a9cdbd6"}),"Edit subject position"]}),"\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>h(!x),checked:x,className:"jsx-6a23f0849a9cdbd6"}),"Edit label position"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Label content type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>H("svg"),checked:"svg"===O,className:"jsx-6a23f0849a9cdbd6"}),"Svg"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>H("html"),checked:"html"===O,className:"jsx-6a23f0849a9cdbd6"}),"Html"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Connector type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>N("elbow"),checked:"elbow"===v,className:"jsx-6a23f0849a9cdbd6"}),"Elbow"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>N("line"),checked:"line"===v,className:"jsx-6a23f0849a9cdbd6"}),"Straight line"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Subject type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>A("circle"),checked:"circle"===Z,className:"jsx-6a23f0849a9cdbd6"}),"Circle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>A("vertical-line"),checked:"vertical-line"===Z,className:"jsx-6a23f0849a9cdbd6"}),"Vertical line"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>A("horizontal-line"),checked:"horizontal-line"===Z,className:"jsx-6a23f0849a9cdbd6"}),"Horizontal line"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Horizontal label anchor"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>P("auto"),checked:"auto"===_,className:"jsx-6a23f0849a9cdbd6"}),"auto"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>P("start"),checked:"start"===_,className:"jsx-6a23f0849a9cdbd6"}),"left"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>P("middle"),checked:"middle"===_,className:"jsx-6a23f0849a9cdbd6"}),"middle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>P("end"),checked:"end"===_,className:"jsx-6a23f0849a9cdbd6"}),"right"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Vertical label anchor"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("auto"),checked:"auto"===D,className:"jsx-6a23f0849a9cdbd6"}),"auto"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("start"),checked:"start"===D,className:"jsx-6a23f0849a9cdbd6"}),"top"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("middle"),checked:"middle"===D,className:"jsx-6a23f0849a9cdbd6"}),"middle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("end"),checked:"end"===D,className:"jsx-6a23f0849a9cdbd6"}),"bottom"]}),(0,t.jsx)("div",{className:"jsx-6a23f0849a9cdbd6",children:(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>M(!L),checked:L,className:"jsx-6a23f0849a9cdbd6"}),"Show anchor line"]})})]})]}),(0,t.jsx)(g(),{id:"6a23f0849a9cdbd6",children:".controls.jsx-6a23f0849a9cdbd6{font-size:13px;line-height:1.5em}.controls.jsx-6a23f0849a9cdbd6>div.jsx-6a23f0849a9cdbd6{margin-bottom:4px}"})]})}var Z=s(62443);let A="#ff7e67",L=["#ecf4f3","#68b0ab","#006a71"];function Example(e){let{width:a,height:s,compact:l=!1}=e;return(0,t.jsx)(ExampleControls,{width:a,height:s,compact:l,children:e=>{let{AnnotationComponent:l,annotationPosition:c,approxTooltipHeight:i,connectorType:o,data:r,editLabelPosition:x,editSubjectPosition:h,getDate:j,getStockValue:b,horizontalAnchor:u,labelType:v,labelWidth:g,setAnnotationPosition:N,showAnchorLine:y,subjectType:k,subtitle:S,title:C,verticalAnchor:w,xScale:z,yScale:E}=e;return(0,t.jsxs)("svg",{width:a,height:s,children:[(0,t.jsx)("rect",{width:a,height:s,fill:L[0]}),(0,t.jsx)(p.Z,{stroke:L[2],strokeWidth:2,data:r,x:e=>{var a;return null!==(a=z(j(e)))&&void 0!==a?a:0},y:e=>{var a;return null!==(a=E(b(e)))&&void 0!==a?a:0}}),(0,t.jsxs)(l,{width:a,height:s,x:c.x,y:c.y,dx:c.dx,dy:c.dy,canEditLabel:x,canEditSubject:h,onDragEnd:e=>{var t,l;let{event:n,...d}=e,c=function(e){let{value:a,scale:s,accessor:t,data:l}=e,n=(0,Z.Z)(t).left,d=s.invert(a),c=n(l,d,1),i=l[c-1],o=l[c],r=i;return o&&t(o)&&(r=d-t(i)>t(o)-d?o:i),r}({accessor:"horizontal-line"===k?b:j,data:r,scale:"horizontal-line"===k?E:z,value:"horizontal-line"===k?d.y:d.x}),o=null!==(t=z(j(c)))&&void 0!==t?t:0,x=null!==(l=E(b(c)))&&void 0!==l?l:0,h=d.dx>0&&o+d.dx+g>a||d.dx<0&&o+d.dx-g<=0,u=d.dy>0&&s-(x+d.dy)<i||d.dy<0&&x+d.dy-i<=0;N({x:o,y:x,dx:(h?-1:1)*d.dx,dy:(u?-1:1)*d.dy})},children:[(0,t.jsx)(n.Z,{stroke:A,type:o}),"svg"===v?(0,t.jsx)(d.Z,{backgroundFill:"white",showAnchorLine:y,anchorLineStroke:L[2],backgroundProps:{stroke:L[1]},fontColor:L[2],horizontalAnchor:u,subtitle:S,title:C,verticalAnchor:w,width:g}):(0,t.jsxs)(HtmlLabel,{showAnchorLine:y,anchorLineStroke:L[2],horizontalAnchor:u,verticalAnchor:w,containerStyle:{width:g,background:"white",border:"1px solid ".concat(L[1]),borderRadius:2,color:L[2],fontSize:"0.55em",lineHeight:"1em",padding:"0 0.4em 0 1em",fontWeight:200},children:[(0,t.jsx)("h3",{style:{margin:"1em 0 -0.5em"},children:C}),(0,t.jsx)("p",{children:S})]}),"circle"===k&&(0,t.jsx)(m.Z,{stroke:A}),"circle"!==k&&(0,t.jsx)(f.Z,{orientation:"vertical-line"===k?"vertical":"horizontal",stroke:A,min:0,max:"vertical-line"===k?s:a})]})]})}})}},57161:function(e){e.exports=JSON.parse('{"name":"@visx/demo-annotation","description":"Standalone visx annotation demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/annotation":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","@visx/vendor":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","annotation"]}')}}]);