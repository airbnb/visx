"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6840],{49389:e=>{e.exports=JSON.parse('{"name":"@visx/demo-annotation","description":"Standalone visx annotation demo.","main":"index.tsx","private":true,"dependencies":{"@babel/runtime":"^7.8.4","@types/react":"^18","@types/react-dom":"^18","@visx/annotation":"latest","@visx/mock-data":"latest","@visx/responsive":"latest","@visx/scale":"latest","@visx/shape":"latest","@visx/vendor":"latest","react":"^18","react-dom":"^18","react-scripts-ts":"3.1.0","typescript":"^3"},"keywords":["visualization","d3","react","visx","annotation"]}')},66252:(e,a,s)=>{s.d(a,{Ay:()=>T,TV:()=>O});var t=s(6029),d=s(55729),l=s(88215),c=s(13602),n=s(32988),i=s.n(n),r=s(9947),o=s(32602),x=s(60201),h=s(10045);let j={display:"inline-block"};function b(e){let{anchorLineStroke:a="#222",children:s,className:l,containerStyle:c,horizontalAnchor:n,resizeObserverPolyfill:b,showAnchorLine:m=!0,verticalAnchor:u,x:f,y:p}=e,[v,g]=(0,r.A)({polyfill:b}),{width:N,height:y}=g,{x:k=0,y:A=0,dx:C=0,dy:S=0}=(0,d.useContext)(x.A),w=n||(Math.abs(C)<Math.abs(S)?"middle":C>0?"start":"end"),z=u||(Math.abs(C)>Math.abs(S)?"middle":S>0?"start":"end"),E=(0,d.useMemo)(()=>{let e=null==f?k+C:f,a=null==p?A+S:p;return"middle"===w&&(e-=N/2),"end"===w&&(e-=N),"middle"===z&&(a-=y/2),"end"===z&&(a-=y),{x:e,y:a}},[f,k,C,p,A,S,w,z,N,y]);return(0,t.jsxs)(o.A,{top:E.y,left:E.x,pointerEvents:"none",className:i()("visx-annotationlabel",l),children:[(0,t.jsx)("foreignObject",{width:N,height:y,overflow:"visible",children:(0,t.jsx)("div",{ref:v,style:c?{...j,...c}:j,children:s})}),m&&(0,t.jsx)(h.A,{anchorLineOrientation:Math.abs(C)>Math.abs(S)?"vertical":"horizontal",anchorLineStroke:a,verticalAnchor:z,horizontalAnchor:w,width:N,height:y})]})}var m=s(22064),u=s(63930),f=s(39917),p=s(71711),v=s.n(p),g=s(1347),N=s(13365),y=s(69077),k=s(87665),A=s(80989),C=s(28341);let S=g.A.slice(-100),w=e=>new Date(e.date).valueOf(),z=e=>e.close,E=S[Math.floor(S.length/2)+4];function M(e){var a,s;let{width:l,height:c,compact:n=!1,children:i}=e,r=(0,d.useMemo)(()=>(0,N.A)({domain:(0,k.A)(S,e=>w(e)),range:[0,l]}),[l]),o=(0,d.useMemo)(()=>(0,y.A)({domain:(0,k.A)(S,e=>z(e)),range:[c-100,100]}),[c]),[x,h]=(0,d.useState)(!1),[j,b]=(0,d.useState)(!1),[m,u]=(0,d.useState)("Title"),[f,p]=(0,d.useState)(n?"Subtitle":"Subtitle with deets and deets and deets and deets"),[g,M]=(0,d.useState)("elbow"),[L,H]=(0,d.useState)("circle"),[O,T]=(0,d.useState)(!0),[_,V]=(0,d.useState)("svg"),[D,F]=(0,d.useState)("auto"),[W,J]=(0,d.useState)("auto"),[P]=(0,d.useState)(n?100:175),[R,q]=(0,d.useState)({x:null!=(a=r(w(E)))?a:0,y:null!=(s=o(z(E)))?s:0,dx:n?-50:-100,dy:n?-30:-50});return(0,d.useEffect)(()=>{q(e=>{var a,s;return{...e,x:null!=(a=r(w(E)))?a:0,y:null!=(s=o(z(E)))?s:0}})},[r,o]),(0,t.jsxs)(t.Fragment,{children:[i({AnnotationComponent:x||j?A.A:C.A,annotationPosition:R,approxTooltipHeight:70,connectorType:g,data:S,editLabelPosition:x,editSubjectPosition:j,getDate:w,getStockValue:z,horizontalAnchor:"auto"===W?void 0:W,labelType:_,labelWidth:P,setAnnotationPosition:q,showAnchorLine:O,subjectType:L,subtitle:f,title:m,verticalAnchor:"auto"===D?void 0:D,xScale:r,yScale:o}),!n&&(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6 controls",children:[(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Title"}),"\xa0\xa0",(0,t.jsx)("input",{type:"text",onChange:e=>u(e.target.value),value:m,className:"jsx-6a23f0849a9cdbd6"})]}),"\xa0\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Subtitle"}),"\xa0\xa0",(0,t.jsx)("input",{type:"text",onChange:e=>p(e.target.value),value:f,className:"jsx-6a23f0849a9cdbd6"})]}),"\xa0\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>b(!j),checked:j,className:"jsx-6a23f0849a9cdbd6"}),"Edit subject position"]}),"\xa0\xa0",(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>h(!x),checked:x,className:"jsx-6a23f0849a9cdbd6"}),"Edit label position"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Label content type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("svg"),checked:"svg"===_,className:"jsx-6a23f0849a9cdbd6"}),"Svg"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>V("html"),checked:"html"===_,className:"jsx-6a23f0849a9cdbd6"}),"Html"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Connector type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>M("elbow"),checked:"elbow"===g,className:"jsx-6a23f0849a9cdbd6"}),"Elbow"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>M("line"),checked:"line"===g,className:"jsx-6a23f0849a9cdbd6"}),"Straight line"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Subject type"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>H("circle"),checked:"circle"===L,className:"jsx-6a23f0849a9cdbd6"}),"Circle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>H("vertical-line"),checked:"vertical-line"===L,className:"jsx-6a23f0849a9cdbd6"}),"Vertical line"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>H("horizontal-line"),checked:"horizontal-line"===L,className:"jsx-6a23f0849a9cdbd6"}),"Horizontal line"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Horizontal label anchor"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>J("auto"),checked:"auto"===W,className:"jsx-6a23f0849a9cdbd6"}),"auto"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>J("start"),checked:"start"===W,className:"jsx-6a23f0849a9cdbd6"}),"left"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>J("middle"),checked:"middle"===W,className:"jsx-6a23f0849a9cdbd6"}),"middle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>J("end"),checked:"end"===W,className:"jsx-6a23f0849a9cdbd6"}),"right"]})]}),(0,t.jsxs)("div",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("strong",{className:"jsx-6a23f0849a9cdbd6",children:"Vertical label anchor"}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>F("auto"),checked:"auto"===D,className:"jsx-6a23f0849a9cdbd6"}),"auto"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>F("start"),checked:"start"===D,className:"jsx-6a23f0849a9cdbd6"}),"top"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>F("middle"),checked:"middle"===D,className:"jsx-6a23f0849a9cdbd6"}),"middle"]}),(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"radio",onChange:()=>F("end"),checked:"end"===D,className:"jsx-6a23f0849a9cdbd6"}),"bottom"]}),(0,t.jsx)("div",{className:"jsx-6a23f0849a9cdbd6",children:(0,t.jsxs)("label",{className:"jsx-6a23f0849a9cdbd6",children:[(0,t.jsx)("input",{type:"checkbox",onChange:()=>T(!O),checked:O,className:"jsx-6a23f0849a9cdbd6"}),"Show anchor line"]})})]})]}),(0,t.jsx)(v(),{id:"6a23f0849a9cdbd6",children:".controls.jsx-6a23f0849a9cdbd6{font-size:13px;line-height:1.5em}.controls.jsx-6a23f0849a9cdbd6>div.jsx-6a23f0849a9cdbd6{margin-bottom:4px}"})]})}var L=s(77943);let H="#ff7e67",O=["#ecf4f3","#68b0ab","#006a71"];function T(e){let{width:a,height:s,compact:d=!1}=e;return(0,t.jsx)(M,{width:a,height:s,compact:d,children:e=>{let{AnnotationComponent:d,annotationPosition:n,approxTooltipHeight:i,connectorType:r,data:o,editLabelPosition:x,editSubjectPosition:h,getDate:j,getStockValue:p,horizontalAnchor:v,labelType:g,labelWidth:N,setAnnotationPosition:y,showAnchorLine:k,subjectType:A,subtitle:C,title:S,verticalAnchor:w,xScale:z,yScale:E}=e;return(0,t.jsxs)("svg",{width:a,height:s,children:[(0,t.jsx)("rect",{width:a,height:s,fill:O[0]}),(0,t.jsx)(f.A,{stroke:O[2],strokeWidth:2,data:o,x:e=>{var a;return null!=(a=z(j(e)))?a:0},y:e=>{var a;return null!=(a=E(p(e)))?a:0}}),(0,t.jsxs)(d,{width:a,height:s,x:n.x,y:n.y,dx:n.dx,dy:n.dy,canEditLabel:x,canEditSubject:h,onDragEnd:e=>{var t,d;let{event:l,...c}=e,n=function(e){let{value:a,scale:s,accessor:t,data:d}=e,l=(0,L.A)(t).left,c=s.invert(a),n=l(d,c,1),i=d[n-1],r=d[n],o=i;return r&&t(r)&&(o=c-t(i)>t(r)-c?r:i),o}({accessor:"horizontal-line"===A?p:j,data:o,scale:"horizontal-line"===A?E:z,value:"horizontal-line"===A?c.y:c.x}),r=null!=(t=z(j(n)))?t:0,x=null!=(d=E(p(n)))?d:0,h=c.dx>0&&r+c.dx+N>a||c.dx<0&&r+c.dx-N<=0,b=c.dy>0&&s-(x+c.dy)<i||c.dy<0&&x+c.dy-i<=0;y({x:r,y:x,dx:(h?-1:1)*c.dx,dy:(b?-1:1)*c.dy})},children:[(0,t.jsx)(l.A,{stroke:H,type:r}),"svg"===g?(0,t.jsx)(c.A,{backgroundFill:"white",showAnchorLine:k,anchorLineStroke:O[2],backgroundProps:{stroke:O[1]},fontColor:O[2],horizontalAnchor:v,subtitle:C,title:S,verticalAnchor:w,width:N}):(0,t.jsxs)(b,{showAnchorLine:k,anchorLineStroke:O[2],horizontalAnchor:v,verticalAnchor:w,containerStyle:{width:N,background:"white",border:"1px solid ".concat(O[1]),borderRadius:2,color:O[2],fontSize:"0.55em",lineHeight:"1em",padding:"0 0.4em 0 1em",fontWeight:200},children:[(0,t.jsx)("h3",{style:{margin:"1em 0 -0.5em"},children:S}),(0,t.jsx)("p",{children:C})]}),"circle"===A&&(0,t.jsx)(m.A,{stroke:H}),"circle"!==A&&(0,t.jsx)(u.A,{orientation:"vertical-line"===A?"vertical":"horizontal",stroke:H,min:0,max:"vertical-line"===A?s:a})]})]})}})}}}]);